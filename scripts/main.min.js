!function(){if(!("modules"in app&&"admin"in app.modules)){var e=function(){var e=this;e.container=document.querySelector(".admin"),e.aside=e.container.querySelector(".admin__aside"),e.setupListener=function(){e.aside.addEventListener("click",e.handleAsideClick)},e.handleAsideClick=function(t){t.preventDefault();var n=t.target,r=n.tagName,a="";activeBox="",id="","A"===r&&(id=n.getAttribute("href"),a=e.aside.querySelector(".admin__aside__link_state_active"),activeBox=e.container.querySelector(".admin__box_state_active"),a&&a.classList.remove("admin__aside__link_state_active"),activeBox&&activeBox.classList.remove("admin__box_state_active"),n.classList.add("admin__aside__link_state_active"),e.container.querySelector(id).classList.add("admin__box_state_active"))},e.alert=function(e){alert(e.text)},e.importDefaults=function(){e.body=app.modules.main.body},e.init=function(){e.container&&(e.importDefaults(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.admin=new e}}(),function(){if(!("modules"in app&&"adminAuthors"in app.modules)){var e=function(){var e=this;e.body="",e.alert="",e.getAuthor="",e.insert="",e.update="",e.container=document.querySelector(".adminAuthors"),e.content=e.container.querySelector(".adminAuthors__content"),e.authorSelect=e.container.querySelector('.formSelect__select[name="author"]'),e.editTemplate=e.container.querySelector("#adminAuthors-template").innerHTML,e.setupListener=function(){e.authorSelect.addEventListener("change",e.handleState),e.container.addEventListener("click",e.router)},e.router=function(t){t.preventDefault();var n=t.target.dataset.action;n&&e[n]&&e[n]()},e.add=function(){e.insert("authors",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,description:e.container.querySelector('.formInput__input[name="description"]').value,photo:e.container.querySelector('.formInput__input[name="photo"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupAuthorFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.edit=function(){e.update("authors",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,description:e.container.querySelector('.formInput__input[name="description"]').value,photo:e.container.querySelector('.formInput__input[name="photo"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"})},function(t){e.alert({title:"",text:t,type:"error"})})},e.remove=function(){confirm("Вы действительно хотите удалить выбранного лектора?")&&e["delete"]("authors",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,description:e.container.querySelector('.formInput__input[name="description"]').value,photo:e.container.querySelector('.formInput__input[name="photo"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupAuthorFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.setupAuthorFilter=function(){e.getAuthor().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.authorSelect.innerHTML=n})},e.handleState=function(){e.authorSelect.value?e.setEditState():e.setNewState()},e.setEditState=function(){var t=e.authorSelect.value?parseInt(e.authorSelect.value):"";e.getAuthor(t).then(function(t){var n=t[0],r=document.createElement("div");r.classList.add("adminAuthors__edit"),r.innerHTML=e.editTemplate,r.querySelector(".adminAuthors__title").style.display="none",r.querySelector('.formInput__input[name="id"]').value=n.id,r.querySelector('.formInput__input[name="title"]').value=n.title,r.querySelector('.formInput__input[name="description"]').value=n.description,r.querySelector('.formInput__input[name="photo"]').value=n.photo,r.querySelector(".adminAuthors__box__button_type_add").style.display="none",e.render(r)})},e.setNewState=function(){var t=document.createElement("div");t.classList.add("adminAuthors__add"),t.innerHTML=e.editTemplate,t.querySelector(".adminAuthors__box__col_1").style.display="none",t.querySelector(".adminAuthors__box__button_type_edit").style.display="none",t.querySelector(".adminAuthors__box__button_type_remove").style.display="none",e.render(t)},e.render=function(t){e.content.innerHTML="",e.content.appendChild(t)},e.importDefaults=function(){e.body=app.modules.main.body,e.alert=app.modules.admin.alert,e.getAuthor=app.modules.main.library.getAuthor,e.insert=app.modules.main.library.insert,e.update=app.modules.main.library.update,e["delete"]=app.modules.main.library["delete"]},e.init=function(){e.container&&(e.importDefaults(),e.setupAuthorFilter(),e.handleState(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminAuthors=new e}}(),function(){if(!("modules"in app&&"adminLectures"in app.modules)){var e=function(){var e=this;e.body="",e.alert="",e.getLecture="",e.getSchool="",e.getAuthor="",e.getPlace="",e.insert="",e.update="",e.container=document.querySelector(".adminLectures"),e.content=e.container.querySelector(".adminLectures__content"),e.lectureSelect=e.container.querySelector('.formSelect__select[name="lecture"]'),e.editTemplate=e.container.querySelector("#adminLectures-template").innerHTML,e.setupListener=function(){e.lectureSelect.addEventListener("change",e.handleState),e.container.addEventListener("click",e.router)},e.router=function(t){t.preventDefault();var n=t.target.dataset.action;n&&e[n]&&e[n]()},e.add=function(){e.insert("lectures",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,school:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="school"] option:checked')).map(function(e){return parseInt(e.value)}),author:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="author"] option:checked')).map(function(e){return parseInt(e.value)}),date:e.container.querySelector('.formInput__input[name="date"]').value,time:e.container.querySelector('.formInput__input[name="time"]').value,place:parseInt(e.container.querySelector('.formSelect__select[name="place"]').value),isOver:1===parseInt(e.container.querySelector('.formSelect__select[name="isOver"]').value),resources:e.container.querySelector('.formInput__input[name="resources"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupLectureFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.edit=function(){e.update("lectures",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,school:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="school"] option:checked')).map(function(e){return parseInt(e.value)}),author:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="author"] option:checked')).map(function(e){return parseInt(e.value)}),date:e.container.querySelector('.formInput__input[name="date"]').value,time:e.container.querySelector('.formInput__input[name="time"]').value,place:parseInt(e.container.querySelector('.formSelect__select[name="place"]').value),isOver:1===parseInt(e.container.querySelector('.formSelect__select[name="isOver"]').value),resources:e.container.querySelector('.formInput__input[name="resources"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"})},function(t){e.alert({title:"",text:t,type:"error"})})},e.remove=function(){confirm("Вы действительно хотите удалить выбранную лекцию?")&&e["delete"]("lectures",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,school:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="school"] option:checked')).map(function(e){return parseInt(e.value)}),author:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="author"] option:checked')).map(function(e){return parseInt(e.value)}),date:e.container.querySelector('.formInput__input[name="date"]').value,time:e.container.querySelector('.formInput__input[name="time"]').value,place:parseInt(e.container.querySelector('.formSelect__select[name="place"]').value),isOver:1===parseInt(e.container.querySelector('.formSelect__select[name="isOver"]').value),resources:e.container.querySelector('.formInput__input[name="resources"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupLectureFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.setupLectureFilter=function(){e.getLecture().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.lectureSelect.innerHTML=n},function(t){e.alert({title:"",text:t,type:"error"})})},e.handleState=function(){e.lectureSelect.value?e.setEditState():e.setNewState()},e.setEditState=function(){var t=e.lectureSelect.value?parseInt(e.lectureSelect.value):"",n={};e.getSchool().then(function(t){return n.schools=t,e.getAuthor()}).then(function(t){return n.authors=t,e.getPlace()}).then(function(r){n.places=r,e.getLecture(t).then(function(t){n.response=t[0];var r=document.createElement("div");r.classList.add("adminLectures__edit"),r.innerHTML=e.editTemplate;var a="",o="",i="";n.schools.forEach(function(e){var t=n.response.school.indexOf(e.id)!==-1?"selected":"";a+="<option "+t+' value="'+e.id+'">'+e.title+" ("+e.student+" чел.)</option>"}),n.authors.forEach(function(e){var t=n.response.author.indexOf(e.id)!==-1?"selected":"";o+="<option "+t+' value="'+e.id+'">'+e.title+"</option>"}),n.places.forEach(function(e){var t=n.response.place===e.id?"selected":"";i+="<option "+t+' value="'+e.id+'">'+e.title+" (вместимость: "+e.capacity+" чел.)</option>"}),r.querySelector(".adminLectures__title").style.display="none",r.querySelector('.formInput__input[name="id"]').value=n.response.id,r.querySelector('.formInput__input[name="title"]').value=n.response.title,r.querySelector('.formSelect__select[name="school"]').innerHTML=a,r.querySelector('.formSelect__select[name="author"]').innerHTML=o,r.querySelector('.formInput__input[name="date"]').value=n.response.date,r.querySelector('.formInput__input[name="time"]').value=n.response.time,r.querySelector('.formSelect__select[name="place"]').innerHTML=i,r.querySelector('.formSelect__select[name="isOver"] option[value="'+(n.response.isOver?1:0)+'"]').selected=!0,r.querySelector('.formInput__input[name="resources"]').value=n.response.resources,r.querySelector(".adminLectures__box__button_type_add").style.display="none",e.render(r)},function(t){e.alert({title:"",text:t,type:"error"})})})},e.setNewState=function(){var t={};e.getSchool().then(function(n){return t.schools=n,e.getAuthor()}).then(function(n){return t.authors=n,e.getPlace()}).then(function(n){t.places=n;var r=document.createElement("div");r.classList.add("adminLectures__add"),r.innerHTML=e.editTemplate;var a="",o="",i="";t.schools.forEach(function(e){a+='<option value="'+e.id+'">'+e.title+" ("+e.student+" чел.)</option>"}),t.authors.forEach(function(e){o+='<option value="'+e.id+'">'+e.title+"</option>"}),t.places.forEach(function(e){i+='<option value="'+e.id+'">'+e.title+" (вместимость: "+e.capacity+" чел.)</option>"}),r.querySelector(".adminLectures__box__col_1").style.display="none",r.querySelector('.formSelect__select[name="school"]').innerHTML=a,r.querySelector('.formSelect__select[name="author"]').innerHTML=o,r.querySelector('.formSelect__select[name="place"]').innerHTML=i,r.querySelector(".adminLectures__box__button_type_edit").style.display="none",r.querySelector(".adminLectures__box__button_type_remove").style.display="none",e.render(r)})},e.render=function(t){e.content.innerHTML="",e.content.appendChild(t)},e.importDefaults=function(){e.body=app.modules.main.body,e.alert=app.modules.admin.alert,e.getLecture=app.modules.main.library.getLecture,e.getSchool=app.modules.main.library.getSchool,e.getAuthor=app.modules.main.library.getAuthor,e.getPlace=app.modules.main.library.getPlace,e.insert=app.modules.main.library.insert,e.update=app.modules.main.library.update,e["delete"]=app.modules.main.library["delete"]},e.init=function(){e.container&&(e.importDefaults(),e.setupLectureFilter(),e.handleState(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminLectures=new e}}(),function(){if(!("modules"in app&&"adminPlaces"in app.modules)){var e=function(){var e=this;e.body="",e.alert="",e.getPlace="",e.insert="",e.update="",e.container=document.querySelector(".adminPlaces"),e.content=e.container.querySelector(".adminPlaces__content"),e.placeSelect=e.container.querySelector('.formSelect__select[name="place"]'),e.editTemplate=e.container.querySelector("#adminPlaces-template").innerHTML,e.setupListener=function(){e.placeSelect.addEventListener("change",e.handleState),e.container.addEventListener("click",e.router)},e.router=function(t){t.preventDefault();var n=t.target.dataset.action;n&&e[n]&&e[n]()},e.add=function(){e.insert("places",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,address:e.container.querySelector('.formInput__input[name="address"]').value,link:e.container.querySelector('.formInput__input[name="link"]').value,capacity:parseInt(e.container.querySelector('.formInput__input[name="capacity"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupPlaceFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.edit=function(){e.update("places",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,address:e.container.querySelector('.formInput__input[name="address"]').value,link:e.container.querySelector('.formInput__input[name="link"]').value,capacity:parseInt(e.container.querySelector('.formInput__input[name="capacity"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"})},function(t){e.alert({title:"",text:t,type:"error"})})},e.remove=function(){confirm("Вы действительно хотите удалить выбранную аудиторию?")&&e["delete"]("places",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,address:e.container.querySelector('.formInput__input[name="address"]').value,link:e.container.querySelector('.formInput__input[name="link"]').value,capacity:parseInt(e.container.querySelector('.formInput__input[name="capacity"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupPlaceFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.setupPlaceFilter=function(){e.getPlace().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.placeSelect.innerHTML=n})},e.handleState=function(){e.placeSelect.value?e.setEditState():e.setNewState()},e.setEditState=function(){var t=e.placeSelect.value?parseInt(e.placeSelect.value):"";e.getPlace(t).then(function(t){var n=t[0],r=document.createElement("div");r.classList.add("adminPlaces__edit"),r.innerHTML=e.editTemplate,r.querySelector(".adminPlaces__title").style.display="none",r.querySelector('.formInput__input[name="id"]').value=n.id,r.querySelector('.formInput__input[name="title"]').value=n.title,r.querySelector('.formInput__input[name="address"]').value=n.address,r.querySelector('.formInput__input[name="link"]').value=n.link,r.querySelector('.formInput__input[name="capacity"]').value=n.capacity,r.querySelector(".adminPlaces__box__button_type_add").style.display="none",e.render(r)})},e.setNewState=function(){e.getPlace().then(function(t){var n=document.createElement("div");n.classList.add("adminPlaces__add"),n.innerHTML=e.editTemplate,n.querySelector(".adminPlaces__box__col_1").style.display="none",n.querySelector(".adminPlaces__box__button_type_edit").style.display="none",n.querySelector(".adminPlaces__box__button_type_remove").style.display="none",e.render(n)})},e.render=function(t){e.content.innerHTML="",e.content.appendChild(t)},e.importDefaults=function(){e.body=app.modules.main.body,e.alert=app.modules.admin.alert,e.getPlace=app.modules.main.library.getPlace,e.insert=app.modules.main.library.insert,e.update=app.modules.main.library.update,e["delete"]=app.modules.main.library["delete"]},e.init=function(){e.container&&(e.importDefaults(),e.setupPlaceFilter(),e.handleState(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminPlaces=new e}}(),function(){if(!("modules"in app&&"adminSchedule"in app.modules)){var e=function(){var e=this;e.body="",e.getSchedule="",e.getPlace="",e.getSchool="",e.getAuthor="",e.expand="",e.container=document.querySelector(".adminSchedule"),e.content=e.container.querySelector(".adminSchedule__content"),e.dateFromInput=e.container.querySelector('.formInput__input[name="from"]'),e.dateToInput=e.container.querySelector('.formInput__input[name="to"]'),e.placeSelect=e.container.querySelector('.formSelect__select[name="place"]'),e.template=e.container.querySelector("#adminSchedule-template").innerHTML,e.setupListener=function(){e.dateFromInput.addEventListener("change",e.getData),e.dateToInput.addEventListener("change",e.getData),e.placeSelect.addEventListener("change",e.getData)},e.setupPlaceFilter=function(){e.getPlace().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.placeSelect.innerHTML=n})},e.getData=function(){var t=e.dateFromInput.value.replace(/-/g,"/"),n=e.dateToInput.value.replace(/-/g,"/"),r=e.placeSelect.value?parseInt(e.placeSelect.value):"";e.getSchedule(t,n,r).then(function(t){e.render(t)})},e.render=function(t){var n=document.createElement("ul");n.classList.add("adminSchedule__list"),t.lectures.forEach(function(r){var a=document.createElement("li");a.classList.add("adminSchedule__item"),a.innerHTML=e.template,a.querySelector(".adminSchedule__box__name").innerHTML=r.title,a.querySelector(".adminSchedule__box__school").innerHTML+=e.expand(r.school,{title:"schools",data:t.schools},"title"),a.querySelector(".adminSchedule__box__author").innerHTML+=e.expand(r.author,{title:"authors",data:t.authors},"title"),a.querySelector(".adminSchedule__box__date").innerHTML+=r.date,a.querySelector(".adminSchedule__box__time").innerHTML+=r.time,a.querySelector(".adminSchedule__box__place").innerHTML+=e.expand([r.place],{title:"places",data:t.places},"title"),a.querySelector(".adminSchedule__box__status").innerHTML+=r.isOver?"Лекция закончилась":"Лекция еще не закончилась",a.querySelector(".adminSchedule__box__resources a").href=r.resources,n.appendChild(a)}),e.content.innerHTML="",e.content.appendChild(n)},e.importDefaults=function(){e.body=app.modules.main.body,e.getSchedule=app.modules.main.library.getSchedule,e.getPlace=app.modules.main.library.getPlace,e.getSchool=app.modules.main.library.getSchool,e.getAuthor=app.modules.main.library.getAuthor,e.expand=app.modules.main.library.expand},e.init=function(){e.container&&(e.importDefaults(),e.setupPlaceFilter(),e.getData(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminSchedule=new e}}(),function(){if(!("modules"in app&&"adminSchools"in app.modules)){var e=function(){var e=this;e.body="",e.alert="",e.getSchool="",e.insert="",e.update="",e.container=document.querySelector(".adminSchools"),e.content=e.container.querySelector(".adminSchools__content"),e.schoolSelect=e.container.querySelector('.formSelect__select[name="school"]'),e.editTemplate=e.container.querySelector("#adminSchools-template").innerHTML,e.setupListener=function(){e.schoolSelect.addEventListener("change",e.handleState),e.container.addEventListener("click",e.router)},e.router=function(t){t.preventDefault();var n=t.target.dataset.action;n&&e[n]&&e[n]()},e.add=function(){e.insert("schools",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,student:parseInt(e.container.querySelector('.formInput__input[name="student"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupSchoolFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.edit=function(){e.update("schools",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,student:parseInt(e.container.querySelector('.formInput__input[name="student"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"})},function(t){e.alert({title:"",text:t,type:"error"})})},e.remove=function(){confirm("Вы действительно хотите удалить выбранную школу?")&&e["delete"]("schools",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,student:parseInt(e.container.querySelector('.formInput__input[name="student"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupSchoolFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.setupSchoolFilter=function(){e.getSchool().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.schoolSelect.innerHTML=n})},e.handleState=function(){e.schoolSelect.value?e.setEditState():e.setNewState()},e.setEditState=function(){var t=e.schoolSelect.value?parseInt(e.schoolSelect.value):"";e.getSchool(t).then(function(t){var n=t[0],r=document.createElement("div");r.classList.add("adminSchools__edit"),r.innerHTML=e.editTemplate,r.querySelector(".adminSchools__title").style.display="none",r.querySelector('.formInput__input[name="id"]').value=n.id,r.querySelector('.formInput__input[name="title"]').value=n.title,r.querySelector('.formInput__input[name="student"]').value=n.student,r.querySelector(".adminSchools__box__button_type_add").style.display="none",e.render(r)})},e.setNewState=function(){e.getSchool().then(function(t){var n=document.createElement("div");n.classList.add("adminSchools__add"),n.innerHTML=e.editTemplate,n.querySelector(".adminSchools__box__col_1").style.display="none",n.querySelector(".adminSchools__box__button_type_edit").style.display="none",n.querySelector(".adminSchools__box__button_type_remove").style.display="none",e.render(n)})},e.render=function(t){e.content.innerHTML="",e.content.appendChild(t)},e.importDefaults=function(){e.body=app.modules.main.body,e.alert=app.modules.admin.alert,e.getSchool=app.modules.main.library.getSchool,e.insert=app.modules.main.library.insert,e.update=app.modules.main.library.update,e["delete"]=app.modules.main.library["delete"]},e.init=function(){e.container&&(e.importDefaults(),e.setupSchoolFilter(),e.handleState(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminSchools=new e}}();var initApp=function(){if(!("modules"in app&&"main"in app.modules)){var e=function(){var e=this;e.html=document.querySelector("html"),e.body=document.querySelector("body"),e.modules=app.modules,e.library=new Library,e.initLibrary=function(){e.library.init()},e.initModules=function(){for(var t in e.modules)e.modules.hasOwnProperty(t)&&"undefined"!=typeof e.modules[t].init&&"main"!==t&&"library"!==t&&e.modules[t].init()},e.init=function(){e.initLibrary(),e.initModules()}};"modules"in app||(app.modules={}),app.modules.main=new e,app.modules.main.init()}};window.addEventListener("load",initApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2FkbWluLmpzIiwiYWRtaW5BdXRob3JzL2FkbWluQXV0aG9ycy5qcyIsImFkbWluTGVjdHVyZXMvYWRtaW5MZWN0dXJlcy5qcyIsImFkbWluUGxhY2VzL2FkbWluUGxhY2VzLmpzIiwiYWRtaW5TY2hlZHVsZS9hZG1pblNjaGVkdWxlLmpzIiwiYWRtaW5TY2hvb2xzL2FkbWluU2Nob29scy5qcyIsIm1haW4vbWFpbi5qcyJdLCJuYW1lcyI6WyJhcHAiLCJtb2R1bGVzIiwiQWRtaW4iLCJzZWxmIiwidGhpcyIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFzaWRlIiwic2V0dXBMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVBc2lkZUNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsInRhZ05hbWUiLCJhY3RpdmVUYXJnZXQiLCJhY3RpdmVCb3giLCJpZCIsImdldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImFsZXJ0Iiwib3B0aW9ucyIsInRleHQiLCJpbXBvcnREZWZhdWx0cyIsImJvZHkiLCJtYWluIiwiaW5pdCIsImFkbWluIiwiQWRtaW5BdXRob3JzIiwiZ2V0QXV0aG9yIiwiaW5zZXJ0IiwidXBkYXRlIiwiY29udGVudCIsImF1dGhvclNlbGVjdCIsImVkaXRUZW1wbGF0ZSIsImlubmVySFRNTCIsImhhbmRsZVN0YXRlIiwicm91dGVyIiwiYWN0aW9uIiwiZGF0YXNldCIsInBhcnNlSW50IiwidmFsdWUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicGhvdG8iLCJ0aGVuIiwicmVzcG9uc2UiLCJ0eXBlIiwic2V0dXBBdXRob3JGaWx0ZXIiLCJzZXROZXdTdGF0ZSIsImVkaXQiLCJjb25maXJtIiwiaHRtbCIsImZvckVhY2giLCJpdGVtIiwic2V0RWRpdFN0YXRlIiwiYXV0aG9ySWQiLCJkYXRhIiwiYm94IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsInJlbmRlciIsInRlbXBsYXRlIiwiYXBwZW5kQ2hpbGQiLCJsaWJyYXJ5IiwiYWRtaW5BdXRob3JzIiwiQWRtaW5MZWN0dXJlcyIsImdldExlY3R1cmUiLCJnZXRTY2hvb2wiLCJnZXRQbGFjZSIsImxlY3R1cmVTZWxlY3QiLCJzY2hvb2wiLCJzbGljZSIsImNhbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiYXV0aG9yIiwiZGF0ZSIsInRpbWUiLCJwbGFjZSIsImlzT3ZlciIsInJlc291cmNlcyIsInNldHVwTGVjdHVyZUZpbHRlciIsImxlY3R1cmVJZCIsInNjaG9vbFNlbGVjdCIsInBsYWNlU2VsZWN0Iiwic2Nob29scyIsImlzU2VsZWN0ZWQiLCJpbmRleE9mIiwic3R1ZGVudCIsImF1dGhvcnMiLCJwbGFjZXMiLCJjYXBhY2l0eSIsInNlbGVjdGVkIiwiYWRtaW5MZWN0dXJlcyIsIkFkbWluUGxhY2VzIiwiYWRkcmVzcyIsImxpbmsiLCJzZXR1cFBsYWNlRmlsdGVyIiwicGxhY2VJZCIsImFkbWluUGxhY2VzIiwiQWRtaW5TY2hlZHVsZSIsImdldFNjaGVkdWxlIiwiZXhwYW5kIiwiZGF0ZUZyb21JbnB1dCIsImRhdGVUb0lucHV0IiwiZ2V0RGF0YSIsImRhdGVGcm9tIiwicmVwbGFjZSIsImRhdGVUbyIsImNvbnRlbnRMaXN0IiwibGVjdHVyZXMiLCJjb250ZW50SXRlbSIsImhyZWYiLCJhZG1pblNjaGVkdWxlIiwiQWRtaW5TY2hvb2xzIiwic2V0dXBTY2hvb2xGaWx0ZXIiLCJzY2hvb2xJZCIsImFkbWluU2Nob29scyIsImluaXRBcHAiLCJNYWluIiwiTGlicmFyeSIsImluaXRMaWJyYXJ5IiwiaW5pdE1vZHVsZXMiLCJtb2R1bGUiLCJoYXNPd25Qcm9wZXJ0eSIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxLQUFBLFdBQUFBLE1BQUEsU0FBQUEsS0FBQUMsU0FBQSxDQVFBLEdBQUFDLEdBQUEsV0FDQSxHQUFBQyxHQUFBQyxJQUVBRCxHQUFBRSxV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QUFvRCxLQUFBakQsU0FBQUMsY0FBQSxRQUNBSixFQUFBd0IsS0FBQXJCLFNBQUFDLGNBQUEsUUFDQUosRUFBQUYsUUFBQUQsSUFBQUMsUUFDQUUsRUFBQWlFLFFBQUEsR0FBQXlELFNBS0ExSCxFQUFBMkgsWUFBQSxXQUNBM0gsRUFBQWlFLFFBQUF2QyxRQU1BMUIsRUFBQTRILFlBQUEsV0FDQSxJQUFBLEdBQUFDLEtBQUE3SCxHQUFBRixRQUVBRSxFQUFBRixRQUFBZ0ksZUFBQUQsSUFFQSxtQkFBQTdILEdBQUFGLFFBQUErSCxHQUFBbkcsTUFBQSxTQUFBbUcsR0FBQSxZQUFBQSxHQUVBN0gsRUFBQUYsUUFBQStILEdBQUFuRyxRQVlBMUIsRUFBQTBCLEtBQUEsV0FDQTFCLEVBQUEySCxjQUNBM0gsRUFBQTRILGVBSUEsWUFBQS9ILE9BQ0FBLElBQUFDLFlBR0FELElBQUFDLFFBQUEyQixLQUFBLEdBQUFnRyxHQUVBNUgsSUFBQUMsUUFBQTJCLEtBQUFDLFFBR0FxRyxRQUFBeEgsaUJBQUEsT0FBQWlIIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuICAgIGlmICgnbW9kdWxlcycgaW4gYXBwICYmICdhZG1pbicgaW4gYXBwLm1vZHVsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQWRtaW4gY2xhc3MuXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgdmFyIEFkbWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRtaW4nKTtcbiAgICAgICAgc2VsZi5hc2lkZSA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbl9fYXNpZGUnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGV2ZW50cyBsaXN0ZW5lcnNcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5hc2lkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGYuaGFuZGxlQXNpZGVDbGljayk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBjbGljayBpbiBhc2lkZSBhcmVhXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5oYW5kbGVBc2lkZUNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgdGFnTmFtZSA9IHRhcmdldC50YWdOYW1lLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhcmdldCA9ICcnO1xuICAgICAgICAgICAgICAgIGFjdGl2ZUJveCA9ICcnO1xuICAgICAgICAgICAgICAgIGlkID0gJyc7XG5cbiAgICAgICAgICAgIGlmICh0YWdOYW1lID09PSAnQScpIHtcblxuICAgICAgICAgICAgICAgIGlkID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXG4gICAgICAgICAgICAgICAgYWN0aXZlVGFyZ2V0ID0gc2VsZi5hc2lkZS5xdWVyeVNlbGVjdG9yKCcuYWRtaW5fX2FzaWRlX19saW5rX3N0YXRlX2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgYWN0aXZlQm94ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmFkbWluX19ib3hfc3RhdGVfYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVGFyZ2V0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2FkbWluX19hc2lkZV9fbGlua19zdGF0ZV9hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVCb3gpIHtcblxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVCb3guY2xhc3NMaXN0LnJlbW92ZSgnYWRtaW5fX2JveF9zdGF0ZV9hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdhZG1pbl9fYXNpZGVfX2xpbmtfc3RhdGVfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcihpZCkuY2xhc3NMaXN0LmFkZCgnYWRtaW5fX2JveF9zdGF0ZV9hY3RpdmUnKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93IGFsZXJ0IG1vZGFsIHdpbmRvd1xuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5hbGVydCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGFsZXJ0KG9wdGlvbnMudGV4dCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcG9ydCBwcm9wZXJ0aWVzIGZyb20gTWFpbiBjbGFzc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5ib2R5ID0gYXBwLm1vZHVsZXMubWFpbi5ib2R5O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0IG1vZHVsZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5jb250YWluZXIpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuaW1wb3J0RGVmYXVsdHMoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwTGlzdGVuZXIoKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBpZiAoISgnbW9kdWxlcycgaW4gYXBwKSkge1xuICAgICAgICBhcHAubW9kdWxlcyA9IHt9O1xuICAgIH1cblxuICAgIGFwcC5tb2R1bGVzLmFkbWluID0gbmV3IEFkbWluKCk7XG59KSgpO1xuXG5cbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCdtb2R1bGVzJyBpbiBhcHAgJiYgJ2FkbWluQXV0aG9ycycgaW4gYXBwLm1vZHVsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQWRtaW5BdXRob3JzIGNsYXNzLlxuICAgICAqIEBjbGFzc1xuICAgICAqL1xuICAgIHZhciBBZG1pbkF1dGhvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLmJvZHkgPSAnJztcbiAgICAgICAgc2VsZi5hbGVydCA9ICcnO1xuICAgICAgICBzZWxmLmdldEF1dGhvciA9ICcnO1xuICAgICAgICBzZWxmLmluc2VydCA9ICcnO1xuICAgICAgICBzZWxmLnVwZGF0ZSA9ICcnO1xuICAgICAgICBzZWxmLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkF1dGhvcnMnKTtcbiAgICAgICAgc2VsZi5jb250ZW50ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmFkbWluQXV0aG9yc19fY29udGVudCcpO1xuICAgICAgICBzZWxmLmF1dGhvclNlbGVjdCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cImF1dGhvclwiXScpO1xuICAgICAgICBzZWxmLmVkaXRUZW1wbGF0ZSA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNhZG1pbkF1dGhvcnMtdGVtcGxhdGUnKS5pbm5lckhUTUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5hdXRob3JTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2VsZi5oYW5kbGVTdGF0ZSk7XG4gICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGYucm91dGVyKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUm91dGUgY29udGFpbmVyIGNsaWNrIGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yb3V0ZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFjdGlvbjtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGZbYWN0aW9uXSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGZbYWN0aW9uXSgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBpdGVtIHRvIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmFkZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5pbnNlcnQoJ2F1dGhvcnMnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJkZXNjcmlwdGlvblwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIHBob3RvOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwicGhvdG9cIl0nKS52YWx1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBBdXRob3JGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWRpdCBpdGVtIGluIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmVkaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlKCdhdXRob3JzJywge1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiaWRcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aXRsZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiZGVzY3JpcHRpb25cIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBwaG90bzogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInBob3RvXCJdJykudmFsdWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGl0ZW0gZnJvbSBkYXRhYmFzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKCfQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDQstGL0LHRgNCw0L3QvdC+0LPQviDQu9C10LrRgtC+0YDQsD8nKSkge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5kZWxldGUoJ2F1dGhvcnMnLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiaWRcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJkZXNjcmlwdGlvblwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwaG90bzogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInBob3RvXCJdJykudmFsdWVcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXR1cEF1dGhvckZpbHRlcigpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dXAgYXV0aG9yIGZpbHRlciB2YWx1ZXNcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0dXBBdXRob3JGaWx0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZ2V0QXV0aG9yKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gJzxvcHRpb24gdmFsdWU9XCJcIj48L29wdGlvbj4nO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCInKyBpdGVtLmlkICsnXCI+JysgaXRlbS50aXRsZSArJzwvb3B0aW9uPic7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmF1dGhvclNlbGVjdC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZSBibG9jayBzdGF0ZSBhY2NvcmRpbmcgdG8gZmlsdGVyIHNlbGVjdCB2YWx1ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5oYW5kbGVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuYXV0aG9yU2VsZWN0LnZhbHVlKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnNldEVkaXRTdGF0ZSgpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSgpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXBhcmUgdGVtcGxhdGUgZm9yIGVkaXQvZGVsZXRlIGl0ZW0gc3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0RWRpdFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYXV0aG9ySWQgPSBzZWxmLmF1dGhvclNlbGVjdC52YWx1ZSA/IHBhcnNlSW50KHNlbGYuYXV0aG9yU2VsZWN0LnZhbHVlKSA6ICcnO1xuXG4gICAgICAgICAgICBzZWxmLmdldEF1dGhvcihhdXRob3JJZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2VbMF0sXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgYm94LmNsYXNzTGlzdC5hZGQoJ2FkbWluQXV0aG9yc19fZWRpdCcpO1xuXG4gICAgICAgICAgICAgICAgYm94LmlubmVySFRNTCA9IHNlbGYuZWRpdFRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkF1dGhvcnNfX3RpdGxlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiaWRcIl0nKS52YWx1ZSA9IGRhdGEuaWQ7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUgPSBkYXRhLnRpdGxlO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJkZXNjcmlwdGlvblwiXScpLnZhbHVlID0gZGF0YS5kZXNjcmlwdGlvbjtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwicGhvdG9cIl0nKS52YWx1ZSA9IGRhdGEucGhvdG87XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluQXV0aG9yc19fYm94X19idXR0b25fdHlwZV9hZGQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXIoYm94KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVwYXJlIHRlbXBsYXRlIGZvciBhZGQgbmV3IGl0ZW0gc3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0TmV3U3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgYm94LmNsYXNzTGlzdC5hZGQoJ2FkbWluQXV0aG9yc19fYWRkJyk7XG5cbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSBzZWxmLmVkaXRUZW1wbGF0ZTtcblxuICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkF1dGhvcnNfX2JveF9fY29sXzEnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluQXV0aG9yc19fYm94X19idXR0b25fdHlwZV9lZGl0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkF1dGhvcnNfX2JveF9fYnV0dG9uX3R5cGVfcmVtb3ZlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgc2VsZi5yZW5kZXIoYm94KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRlbXBsYXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnJlbmRlciA9IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBzZWxmLmNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgICAgIHNlbGYuY29udGVudC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcG9ydCBwcm9wZXJ0aWVzIGZyb20gTWFpbiBjbGFzc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5ib2R5ID0gYXBwLm1vZHVsZXMubWFpbi5ib2R5O1xuICAgICAgICAgICAgc2VsZi5hbGVydCA9IGFwcC5tb2R1bGVzLmFkbWluLmFsZXJ0O1xuICAgICAgICAgICAgc2VsZi5nZXRBdXRob3IgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0QXV0aG9yO1xuICAgICAgICAgICAgc2VsZi5pbnNlcnQgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuaW5zZXJ0O1xuICAgICAgICAgICAgc2VsZi51cGRhdGUgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkudXBkYXRlO1xuICAgICAgICAgICAgc2VsZi5kZWxldGUgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZGVsZXRlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0IG1vZHVsZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5jb250YWluZXIpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuaW1wb3J0RGVmYXVsdHMoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwQXV0aG9yRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lcigpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghKCdtb2R1bGVzJyBpbiBhcHApKSB7XG4gICAgICAgIGFwcC5tb2R1bGVzID0ge307XG4gICAgfVxuXG4gICAgYXBwLm1vZHVsZXMuYWRtaW5BdXRob3JzID0gbmV3IEFkbWluQXV0aG9ycygpO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCdtb2R1bGVzJyBpbiBhcHAgJiYgJ2FkbWluTGVjdHVyZXMnIGluIGFwcC5tb2R1bGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEFkbWluTGVjdHVyZXMgY2xhc3MuXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgdmFyIEFkbWluTGVjdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLmJvZHkgPSAnJztcbiAgICAgICAgc2VsZi5hbGVydCA9ICcnO1xuICAgICAgICBzZWxmLmdldExlY3R1cmUgPSAnJztcbiAgICAgICAgc2VsZi5nZXRTY2hvb2wgPSAnJztcbiAgICAgICAgc2VsZi5nZXRBdXRob3IgPSAnJztcbiAgICAgICAgc2VsZi5nZXRQbGFjZSA9ICcnO1xuICAgICAgICBzZWxmLmluc2VydCA9ICcnO1xuICAgICAgICBzZWxmLnVwZGF0ZSA9ICcnO1xuICAgICAgICBzZWxmLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkxlY3R1cmVzJyk7XG4gICAgICAgIHNlbGYuY29udGVudCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkxlY3R1cmVzX19jb250ZW50Jyk7XG4gICAgICAgIHNlbGYubGVjdHVyZVNlbGVjdCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cImxlY3R1cmVcIl0nKTtcbiAgICAgICAgc2VsZi5lZGl0VGVtcGxhdGUgPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjYWRtaW5MZWN0dXJlcy10ZW1wbGF0ZScpLmlubmVySFRNTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXR1cExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmxlY3R1cmVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2VsZi5oYW5kbGVTdGF0ZSk7XG4gICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGYucm91dGVyKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUm91dGUgY29udGFpbmVyIGNsaWNrIGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yb3V0ZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFjdGlvbjtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGZbYWN0aW9uXSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGZbYWN0aW9uXSgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBpdGVtIHRvIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmFkZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5pbnNlcnQoJ2xlY3R1cmVzJywge1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiaWRcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aXRsZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIHNjaG9vbDogW10uc2xpY2UuY2FsbChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJzY2hvb2xcIl0gb3B0aW9uOmNoZWNrZWQnKSkubWFwKGZ1bmN0aW9uKGl0ZW0pIHtyZXR1cm4gcGFyc2VJbnQoaXRlbS52YWx1ZSl9KSxcbiAgICAgICAgICAgICAgICBhdXRob3I6IFtdLnNsaWNlLmNhbGwoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwiYXV0aG9yXCJdIG9wdGlvbjpjaGVja2VkJykpLm1hcChmdW5jdGlvbihpdGVtKSB7cmV0dXJuIHBhcnNlSW50KGl0ZW0udmFsdWUpfSksXG4gICAgICAgICAgICAgICAgZGF0ZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImRhdGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICB0aW1lOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGltZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIHBsYWNlOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJwbGFjZVwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICBpc092ZXI6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cImlzT3ZlclwiXScpLnZhbHVlKSA9PT0gMSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZXM6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJyZXNvdXJjZXNcIl0nKS52YWx1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMZWN0dXJlRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVkaXQgaXRlbSBpbiBkYXRhYmFzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5lZGl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgnbGVjdHVyZXMnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgc2Nob29sOiBbXS5zbGljZS5jYWxsKHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInNjaG9vbFwiXSBvcHRpb246Y2hlY2tlZCcpKS5tYXAoZnVuY3Rpb24oaXRlbSkge3JldHVybiBwYXJzZUludChpdGVtLnZhbHVlKX0pLFxuICAgICAgICAgICAgICAgIGF1dGhvcjogW10uc2xpY2UuY2FsbChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJhdXRob3JcIl0gb3B0aW9uOmNoZWNrZWQnKSkubWFwKGZ1bmN0aW9uKGl0ZW0pIHtyZXR1cm4gcGFyc2VJbnQoaXRlbS52YWx1ZSl9KSxcbiAgICAgICAgICAgICAgICBkYXRlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiZGF0ZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRpbWU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aW1lXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgcGxhY2U6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInBsYWNlXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgIGlzT3ZlcjogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwiaXNPdmVyXCJdJykudmFsdWUpID09PSAxLFxuICAgICAgICAgICAgICAgIHJlc291cmNlczogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInJlc291cmNlc1wiXScpLnZhbHVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBpdGVtIGZyb20gZGF0YWJhc2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlybSgn0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0LLRi9Cx0YDQsNC90L3Rg9GOINC70LXQutGG0LjRjj8nKSkge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5kZWxldGUoJ2xlY3R1cmVzJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHNjaG9vbDogW10uc2xpY2UuY2FsbChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJzY2hvb2xcIl0gb3B0aW9uOmNoZWNrZWQnKSkubWFwKGZ1bmN0aW9uKGl0ZW0pIHtyZXR1cm4gcGFyc2VJbnQoaXRlbS52YWx1ZSl9KSxcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBbXS5zbGljZS5jYWxsKHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cImF1dGhvclwiXSBvcHRpb246Y2hlY2tlZCcpKS5tYXAoZnVuY3Rpb24oaXRlbSkge3JldHVybiBwYXJzZUludChpdGVtLnZhbHVlKX0pLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiZGF0ZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGltZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZTogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwicGxhY2VcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGlzT3ZlcjogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwiaXNPdmVyXCJdJykudmFsdWUpID09PSAxLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJyZXNvdXJjZXNcIl0nKS52YWx1ZVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldHVwTGVjdHVyZUZpbHRlcigpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dXAgbGVjdHVyZSBmaWx0ZXIgdmFsdWVzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwTGVjdHVyZUZpbHRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5nZXRMZWN0dXJlKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gJzxvcHRpb24gdmFsdWU9XCJcIj48L29wdGlvbj4nO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCInKyBpdGVtLmlkICsnXCI+JysgaXRlbS50aXRsZSArJzwvb3B0aW9uPic7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmxlY3R1cmVTZWxlY3QuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2UgYmxvY2sgc3RhdGUgYWNjb3JkaW5nIHRvIGZpbHRlciBzZWxlY3QgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaGFuZGxlU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmxlY3R1cmVTZWxlY3QudmFsdWUpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0RWRpdFN0YXRlKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSB0ZW1wbGF0ZSBmb3IgZWRpdC9kZWxldGUgaXRlbSBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXRFZGl0U3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBsZWN0dXJlSWQgPSBzZWxmLmxlY3R1cmVTZWxlY3QudmFsdWUgPyBwYXJzZUludChzZWxmLmxlY3R1cmVTZWxlY3QudmFsdWUpIDogJycsXG4gICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuXG4gICAgICAgICAgICBzZWxmLmdldFNjaG9vbCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBkYXRhWydzY2hvb2xzJ10gPSByZXNwb25zZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldEF1dGhvcigpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGRhdGFbJ2F1dGhvcnMnXSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0UGxhY2UoKTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBkYXRhWydwbGFjZXMnXSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5nZXRMZWN0dXJlKGxlY3R1cmVJZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhWydyZXNwb25zZSddID0gcmVzcG9uc2VbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdhZG1pbkxlY3R1cmVzX19lZGl0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgYm94LmlubmVySFRNTCA9IHNlbGYuZWRpdFRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2hvb2xTZWxlY3QgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvclNlbGVjdCA9ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VTZWxlY3QgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICBkYXRhLnNjaG9vbHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IGRhdGEucmVzcG9uc2Uuc2Nob29sLmluZGV4T2YoaXRlbS5pZCkgIT09IC0xID8gJ3NlbGVjdGVkJyA6ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hvb2xTZWxlY3QgKz0gJzxvcHRpb24gJysgaXNTZWxlY3RlZCArJyB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnICgnKyBpdGVtLnN0dWRlbnQgKycg0YfQtdC7Lik8L29wdGlvbj4nO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBkYXRhLmF1dGhvcnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IGRhdGEucmVzcG9uc2UuYXV0aG9yLmluZGV4T2YoaXRlbS5pZCkgIT09IC0xID8gJ3NlbGVjdGVkJyA6ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JTZWxlY3QgKz0gJzxvcHRpb24gJysgaXNTZWxlY3RlZCArJyB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wbGFjZXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IGRhdGEucmVzcG9uc2UucGxhY2UgPT09IGl0ZW0uaWQgPyAnc2VsZWN0ZWQnIDogJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlU2VsZWN0ICs9ICc8b3B0aW9uICcrIGlzU2VsZWN0ZWQgKycgdmFsdWU9XCInKyBpdGVtLmlkICsnXCI+JysgaXRlbS50aXRsZSArJyAo0LLQvNC10YHRgtC40LzQvtGB0YLRjDogJysgaXRlbS5jYXBhY2l0eSArJyDRh9C10LsuKTwvb3B0aW9uPic7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkxlY3R1cmVzX190aXRsZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlID0gZGF0YS5yZXNwb25zZS5pZDtcblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUgPSBkYXRhLnJlc3BvbnNlLnRpdGxlO1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJzY2hvb2xcIl0nKS5pbm5lckhUTUwgPSBzY2hvb2xTZWxlY3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cImF1dGhvclwiXScpLmlubmVySFRNTCA9IGF1dGhvclNlbGVjdDtcblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImRhdGVcIl0nKS52YWx1ZSA9IGRhdGEucmVzcG9uc2UuZGF0ZTtcblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpbWVcIl0nKS52YWx1ZSA9IGRhdGEucmVzcG9uc2UudGltZTtcblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwicGxhY2VcIl0nKS5pbm5lckhUTUwgPSBwbGFjZVNlbGVjdDtcblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwiaXNPdmVyXCJdIG9wdGlvblt2YWx1ZT1cIicgKyAoZGF0YS5yZXNwb25zZS5pc092ZXIgPyAxIDogMCkgKyAnXCJdJykuc2VsZWN0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwicmVzb3VyY2VzXCJdJykudmFsdWUgPSBkYXRhLnJlc3BvbnNlLnJlc291cmNlcztcblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluTGVjdHVyZXNfX2JveF9fYnV0dG9uX3R5cGVfYWRkJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbmRlcihib3gpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXBhcmUgdGVtcGxhdGUgZm9yIGFkZCBuZXcgaXRlbSBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcblxuICAgICAgICAgICAgc2VsZi5nZXRTY2hvb2woKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgZGF0YVsnc2Nob29scyddID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXRBdXRob3IoKTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBkYXRhWydhdXRob3JzJ10gPSByZXNwb25zZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldFBsYWNlKCk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgZGF0YVsncGxhY2VzJ10gPSByZXNwb25zZTtcblxuICAgICAgICAgICAgICAgIHZhciBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdhZG1pbkxlY3R1cmVzX19hZGQnKTtcblxuICAgICAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSBzZWxmLmVkaXRUZW1wbGF0ZTtcblxuICAgICAgICAgICAgICAgIHZhciBzY2hvb2xTZWxlY3QgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yU2VsZWN0ID0gJycsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlU2VsZWN0ID0gJyc7XG5cbiAgICAgICAgICAgICAgICBkYXRhLnNjaG9vbHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaG9vbFNlbGVjdCArPSAnPG9wdGlvbiB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnICgnKyBpdGVtLnN0dWRlbnQgKycg0YfQtdC7Lik8L29wdGlvbj4nO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5hdXRob3JzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBhdXRob3JTZWxlY3QgKz0gJzxvcHRpb24gdmFsdWU9XCInKyBpdGVtLmlkICsnXCI+JysgaXRlbS50aXRsZSArJzwvb3B0aW9uPic7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBkYXRhLnBsYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VTZWxlY3QgKz0gJzxvcHRpb24gdmFsdWU9XCInKyBpdGVtLmlkICsnXCI+JysgaXRlbS50aXRsZSArJyAo0LLQvNC10YHRgtC40LzQvtGB0YLRjDogJysgaXRlbS5jYXBhY2l0eSArJyDRh9C10LsuKTwvb3B0aW9uPic7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluTGVjdHVyZXNfX2JveF9fY29sXzEnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInNjaG9vbFwiXScpLmlubmVySFRNTCA9IHNjaG9vbFNlbGVjdDtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJhdXRob3JcIl0nKS5pbm5lckhUTUwgPSBhdXRob3JTZWxlY3Q7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwicGxhY2VcIl0nKS5pbm5lckhUTUwgPSBwbGFjZVNlbGVjdDtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5MZWN0dXJlc19fYm94X19idXR0b25fdHlwZV9lZGl0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5MZWN0dXJlc19fYm94X19idXR0b25fdHlwZV9yZW1vdmUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXIoYm94KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGVtcGxhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucmVuZGVyID0gZnVuY3Rpb24odGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHNlbGYuY29udGVudC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICAgICAgc2VsZi5jb250ZW50LmFwcGVuZENoaWxkKHRlbXBsYXRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wb3J0IHByb3BlcnRpZXMgZnJvbSBNYWluIGNsYXNzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmltcG9ydERlZmF1bHRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmJvZHkgPSBhcHAubW9kdWxlcy5tYWluLmJvZHk7XG4gICAgICAgICAgICBzZWxmLmFsZXJ0ID0gYXBwLm1vZHVsZXMuYWRtaW4uYWxlcnQ7XG4gICAgICAgICAgICBzZWxmLmdldExlY3R1cmUgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0TGVjdHVyZTtcbiAgICAgICAgICAgIHNlbGYuZ2V0U2Nob29sID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LmdldFNjaG9vbDtcbiAgICAgICAgICAgIHNlbGYuZ2V0QXV0aG9yID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LmdldEF1dGhvcjtcbiAgICAgICAgICAgIHNlbGYuZ2V0UGxhY2UgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0UGxhY2U7XG4gICAgICAgICAgICBzZWxmLmluc2VydCA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5pbnNlcnQ7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS51cGRhdGU7XG4gICAgICAgICAgICBzZWxmLmRlbGV0ZSA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5kZWxldGU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXQgbW9kdWxlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbnRhaW5lcikge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cygpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMZWN0dXJlRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lcigpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghKCdtb2R1bGVzJyBpbiBhcHApKSB7XG4gICAgICAgIGFwcC5tb2R1bGVzID0ge307XG4gICAgfVxuXG4gICAgYXBwLm1vZHVsZXMuYWRtaW5MZWN0dXJlcyA9IG5ldyBBZG1pbkxlY3R1cmVzKCk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJ21vZHVsZXMnIGluIGFwcCAmJiAnYWRtaW5QbGFjZXMnIGluIGFwcC5tb2R1bGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEFkbWluUGxhY2VzIGNsYXNzLlxuICAgICAqIEBjbGFzc1xuICAgICAqL1xuICAgIHZhciBBZG1pblBsYWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGYuYm9keSA9ICcnO1xuICAgICAgICBzZWxmLmFsZXJ0ID0gJyc7XG4gICAgICAgIHNlbGYuZ2V0UGxhY2UgPSAnJztcbiAgICAgICAgc2VsZi5pbnNlcnQgPSAnJztcbiAgICAgICAgc2VsZi51cGRhdGUgPSAnJztcbiAgICAgICAgc2VsZi5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5QbGFjZXMnKTtcbiAgICAgICAgc2VsZi5jb250ZW50ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmFkbWluUGxhY2VzX19jb250ZW50Jyk7XG4gICAgICAgIHNlbGYucGxhY2VTZWxlY3QgPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJwbGFjZVwiXScpO1xuICAgICAgICBzZWxmLmVkaXRUZW1wbGF0ZSA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNhZG1pblBsYWNlcy10ZW1wbGF0ZScpLmlubmVySFRNTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXR1cExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBsYWNlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHNlbGYuaGFuZGxlU3RhdGUpO1xuICAgICAgICAgICAgc2VsZi5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxmLnJvdXRlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdXRlIGNvbnRhaW5lciBjbGljayBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucm91dGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBldmVudC50YXJnZXQuZGF0YXNldC5hY3Rpb247XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxmW2FjdGlvbl0pIHtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmW2FjdGlvbl0oKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgaXRlbSB0byBkYXRhYmFzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5hZGQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuaW5zZXJ0KCdwbGFjZXMnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgYWRkcmVzczogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImFkZHJlc3NcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBsaW5rOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwibGlua1wiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIGNhcGFjaXR5OiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiY2FwYWNpdHlcIl0nKS52YWx1ZSlcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwUGxhY2VGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWRpdCBpdGVtIGluIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmVkaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlKCdwbGFjZXMnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgYWRkcmVzczogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImFkZHJlc3NcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBsaW5rOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwibGlua1wiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIGNhcGFjaXR5OiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiY2FwYWNpdHlcIl0nKS52YWx1ZSlcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGl0ZW0gZnJvbSBkYXRhYmFzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKCfQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDQstGL0LHRgNCw0L3QvdGD0Y4g0LDRg9C00LjRgtC+0YDQuNGOPycpKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmRlbGV0ZSgncGxhY2VzJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJhZGRyZXNzXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJsaW5rXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGNhcGFjaXR5OiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiY2FwYWNpdHlcIl0nKS52YWx1ZSlcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXR1cFBsYWNlRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0TmV3U3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCBwbGFjZSBmaWx0ZXIgdmFsdWVzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwUGxhY2VGaWx0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZ2V0UGxhY2UoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPjwvb3B0aW9uPic7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYucGxhY2VTZWxlY3QuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2UgYmxvY2sgc3RhdGUgYWNjb3JkaW5nIHRvIGZpbHRlciBzZWxlY3QgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaGFuZGxlU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLnBsYWNlU2VsZWN0LnZhbHVlKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnNldEVkaXRTdGF0ZSgpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSgpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXBhcmUgdGVtcGxhdGUgZm9yIGVkaXQvZGVsZXRlIGl0ZW0gc3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0RWRpdFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGxhY2VJZCA9IHNlbGYucGxhY2VTZWxlY3QudmFsdWUgPyBwYXJzZUludChzZWxmLnBsYWNlU2VsZWN0LnZhbHVlKSA6ICcnO1xuXG4gICAgICAgICAgICBzZWxmLmdldFBsYWNlKHBsYWNlSWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlWzBdLFxuICAgICAgICAgICAgICAgICAgICBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdhZG1pblBsYWNlc19fZWRpdCcpO1xuXG4gICAgICAgICAgICAgICAgYm94LmlubmVySFRNTCA9IHNlbGYuZWRpdFRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblBsYWNlc19fdGl0bGUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlID0gZGF0YS5pZDtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSA9IGRhdGEudGl0bGU7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImFkZHJlc3NcIl0nKS52YWx1ZSA9IGRhdGEuYWRkcmVzcztcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwibGlua1wiXScpLnZhbHVlID0gZGF0YS5saW5rO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJjYXBhY2l0eVwiXScpLnZhbHVlID0gZGF0YS5jYXBhY2l0eTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5QbGFjZXNfX2JveF9fYnV0dG9uX3R5cGVfYWRkJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyKGJveCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSB0ZW1wbGF0ZSBmb3IgYWRkIG5ldyBpdGVtIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldE5ld1N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmdldFBsYWNlKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgYm94LmNsYXNzTGlzdC5hZGQoJ2FkbWluUGxhY2VzX19hZGQnKTtcblxuICAgICAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSBzZWxmLmVkaXRUZW1wbGF0ZTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5QbGFjZXNfX2JveF9fY29sXzEnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblBsYWNlc19fYm94X19idXR0b25fdHlwZV9lZGl0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5QbGFjZXNfX2JveF9fYnV0dG9uX3R5cGVfcmVtb3ZlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyKGJveCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRlbXBsYXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnJlbmRlciA9IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBzZWxmLmNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgICAgIHNlbGYuY29udGVudC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcG9ydCBwcm9wZXJ0aWVzIGZyb20gTWFpbiBjbGFzc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5ib2R5ID0gYXBwLm1vZHVsZXMubWFpbi5ib2R5O1xuICAgICAgICAgICAgc2VsZi5hbGVydCA9IGFwcC5tb2R1bGVzLmFkbWluLmFsZXJ0O1xuICAgICAgICAgICAgc2VsZi5nZXRQbGFjZSA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5nZXRQbGFjZTtcbiAgICAgICAgICAgIHNlbGYuaW5zZXJ0ID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5Lmluc2VydDtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LnVwZGF0ZTtcbiAgICAgICAgICAgIHNlbGYuZGVsZXRlID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LmRlbGV0ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdCBtb2R1bGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuY29udGFpbmVyKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmltcG9ydERlZmF1bHRzKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXR1cFBsYWNlRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lcigpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghKCdtb2R1bGVzJyBpbiBhcHApKSB7XG4gICAgICAgIGFwcC5tb2R1bGVzID0ge307XG4gICAgfVxuXG4gICAgYXBwLm1vZHVsZXMuYWRtaW5QbGFjZXMgPSBuZXcgQWRtaW5QbGFjZXMoKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAgIGlmICgnbW9kdWxlcycgaW4gYXBwICYmICdhZG1pblNjaGVkdWxlJyBpbiBhcHAubW9kdWxlcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBBZG1pblNjaGVkdWxlIGNsYXNzLlxuICAgICAqIEBjbGFzc1xuICAgICAqL1xuICAgIHZhciBBZG1pblNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5ib2R5ID0gJyc7XG4gICAgICAgIHNlbGYuZ2V0U2NoZWR1bGUgPSAnJztcbiAgICAgICAgc2VsZi5nZXRQbGFjZSA9ICcnO1xuICAgICAgICBzZWxmLmdldFNjaG9vbCA9ICcnO1xuICAgICAgICBzZWxmLmdldEF1dGhvciA9ICcnO1xuICAgICAgICBzZWxmLmV4cGFuZCA9ICcnO1xuICAgICAgICBzZWxmLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaGVkdWxlJyk7XG4gICAgICAgIHNlbGYuY29udGVudCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaGVkdWxlX19jb250ZW50Jyk7XG4gICAgICAgIHNlbGYuZGF0ZUZyb21JbnB1dCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJmcm9tXCJdJyk7XG4gICAgICAgIHNlbGYuZGF0ZVRvSW5wdXQgPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidG9cIl0nKTtcbiAgICAgICAgc2VsZi5wbGFjZVNlbGVjdCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInBsYWNlXCJdJyk7XG4gICAgICAgIHNlbGYudGVtcGxhdGUgPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjYWRtaW5TY2hlZHVsZS10ZW1wbGF0ZScpLmlubmVySFRNTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXR1cExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmRhdGVGcm9tSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2VsZi5nZXREYXRhKTtcbiAgICAgICAgICAgIHNlbGYuZGF0ZVRvSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2VsZi5nZXREYXRhKTtcbiAgICAgICAgICAgIHNlbGYucGxhY2VTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2VsZi5nZXREYXRhKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dXAgcGxhY2UgZmlsdGVyIHZhbHVlc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXR1cFBsYWNlRmlsdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmdldFBsYWNlKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gJzxvcHRpb24gdmFsdWU9XCJcIj48L29wdGlvbj4nO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCInKyBpdGVtLmlkICsnXCI+JysgaXRlbS50aXRsZSArJzwvb3B0aW9uPic7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnBsYWNlU2VsZWN0LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGRhdGEgZnJvbSBsaWJyYXJ5IGFjY29yZGluZyB0byBmaWx0ZXIgdmFsdWVzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmdldERhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkYXRlRnJvbSA9IHNlbGYuZGF0ZUZyb21JbnB1dC52YWx1ZS5yZXBsYWNlKC8tL2csICcvJyksXG4gICAgICAgICAgICAgICAgZGF0ZVRvID0gc2VsZi5kYXRlVG9JbnB1dC52YWx1ZS5yZXBsYWNlKC8tL2csICcvJyksXG4gICAgICAgICAgICAgICAgcGxhY2UgPSBzZWxmLnBsYWNlU2VsZWN0LnZhbHVlID8gcGFyc2VJbnQoc2VsZi5wbGFjZVNlbGVjdC52YWx1ZSkgOiAnJztcblxuICAgICAgICAgICAgc2VsZi5nZXRTY2hlZHVsZShkYXRlRnJvbSwgZGF0ZVRvLCBwbGFjZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgc2NoZWR1bGUgbGlzdFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucmVuZGVyID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBjb250ZW50TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG5cbiAgICAgICAgICAgIGNvbnRlbnRMaXN0LmNsYXNzTGlzdC5hZGQoJ2FkbWluU2NoZWR1bGVfX2xpc3QnKTtcblxuICAgICAgICAgICAgcmVzcG9uc2UubGVjdHVyZXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtLmNsYXNzTGlzdC5hZGQoJ2FkbWluU2NoZWR1bGVfX2l0ZW0nKTtcbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbS5pbm5lckhUTUwgPSBzZWxmLnRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW0ucXVlcnlTZWxlY3RvcignLmFkbWluU2NoZWR1bGVfX2JveF9fbmFtZScpLmlubmVySFRNTCA9IGl0ZW0udGl0bGU7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hlZHVsZV9fYm94X19zY2hvb2wnKS5pbm5lckhUTUwgKz0gc2VsZi5leHBhbmQoaXRlbS5zY2hvb2wsIHt0aXRsZTogJ3NjaG9vbHMnLCBkYXRhOiByZXNwb25zZS5zY2hvb2xzfSwgJ3RpdGxlJyk7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hlZHVsZV9fYm94X19hdXRob3InKS5pbm5lckhUTUwgKz0gc2VsZi5leHBhbmQoaXRlbS5hdXRob3IsIHt0aXRsZTogJ2F1dGhvcnMnLCBkYXRhOiByZXNwb25zZS5hdXRob3JzfSwgJ3RpdGxlJyk7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hlZHVsZV9fYm94X19kYXRlJykuaW5uZXJIVE1MICs9IGl0ZW0uZGF0ZTtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaGVkdWxlX19ib3hfX3RpbWUnKS5pbm5lckhUTUwgKz0gaXRlbS50aW1lO1xuXG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW0ucXVlcnlTZWxlY3RvcignLmFkbWluU2NoZWR1bGVfX2JveF9fcGxhY2UnKS5pbm5lckhUTUwgKz0gc2VsZi5leHBhbmQoW2l0ZW0ucGxhY2VdLCB7dGl0bGU6ICdwbGFjZXMnLCBkYXRhOiByZXNwb25zZS5wbGFjZXN9LCAndGl0bGUnKTtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaGVkdWxlX19ib3hfX3N0YXR1cycpLmlubmVySFRNTCArPSBpdGVtLmlzT3ZlciA/ICfQm9C10LrRhtC40Y8g0LfQsNC60L7QvdGH0LjQu9Cw0YHRjCcgOiAn0JvQtdC60YbQuNGPINC10YnQtSDQvdC1INC30LDQutC+0L3Rh9C40LvQsNGB0YwnO1xuXG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW0ucXVlcnlTZWxlY3RvcignLmFkbWluU2NoZWR1bGVfX2JveF9fcmVzb3VyY2VzIGEnKS5ocmVmID0gaXRlbS5yZXNvdXJjZXM7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50TGlzdC5hcHBlbmRDaGlsZChjb250ZW50SXRlbSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VsZi5jb250ZW50LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgICAgICBzZWxmLmNvbnRlbnQuYXBwZW5kQ2hpbGQoY29udGVudExpc3QpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBvcnQgcHJvcGVydGllcyBmcm9tIE1haW4gY2xhc3NcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaW1wb3J0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYm9keSA9IGFwcC5tb2R1bGVzLm1haW4uYm9keTtcbiAgICAgICAgICAgIHNlbGYuZ2V0U2NoZWR1bGUgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0U2NoZWR1bGU7XG4gICAgICAgICAgICBzZWxmLmdldFBsYWNlID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LmdldFBsYWNlO1xuICAgICAgICAgICAgc2VsZi5nZXRTY2hvb2wgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0U2Nob29sO1xuICAgICAgICAgICAgc2VsZi5nZXRBdXRob3IgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0QXV0aG9yO1xuICAgICAgICAgICAgc2VsZi5leHBhbmQgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZXhwYW5kO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0IG1vZHVsZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5jb250YWluZXIpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuaW1wb3J0RGVmYXVsdHMoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwUGxhY2VGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmdldERhdGEoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwTGlzdGVuZXIoKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBpZiAoISgnbW9kdWxlcycgaW4gYXBwKSkge1xuICAgICAgICBhcHAubW9kdWxlcyA9IHt9O1xuICAgIH1cblxuICAgIGFwcC5tb2R1bGVzLmFkbWluU2NoZWR1bGUgPSBuZXcgQWRtaW5TY2hlZHVsZSgpO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCdtb2R1bGVzJyBpbiBhcHAgJiYgJ2FkbWluU2Nob29scycgaW4gYXBwLm1vZHVsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQWRtaW5TY2hvb2xzIGNsYXNzLlxuICAgICAqIEBjbGFzc1xuICAgICAqL1xuICAgIHZhciBBZG1pblNjaG9vbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLmJvZHkgPSAnJztcbiAgICAgICAgc2VsZi5hbGVydCA9ICcnO1xuICAgICAgICBzZWxmLmdldFNjaG9vbCA9ICcnO1xuICAgICAgICBzZWxmLmluc2VydCA9ICcnO1xuICAgICAgICBzZWxmLnVwZGF0ZSA9ICcnO1xuICAgICAgICBzZWxmLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaG9vbHMnKTtcbiAgICAgICAgc2VsZi5jb250ZW50ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmFkbWluU2Nob29sc19fY29udGVudCcpO1xuICAgICAgICBzZWxmLnNjaG9vbFNlbGVjdCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInNjaG9vbFwiXScpO1xuICAgICAgICBzZWxmLmVkaXRUZW1wbGF0ZSA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNhZG1pblNjaG9vbHMtdGVtcGxhdGUnKS5pbm5lckhUTUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5zY2hvb2xTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2VsZi5oYW5kbGVTdGF0ZSk7XG4gICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGYucm91dGVyKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUm91dGUgY29udGFpbmVyIGNsaWNrIGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yb3V0ZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFjdGlvbjtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGZbYWN0aW9uXSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGZbYWN0aW9uXSgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBpdGVtIHRvIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmFkZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5pbnNlcnQoJ3NjaG9vbHMnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgc3R1ZGVudDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInN0dWRlbnRcIl0nKS52YWx1ZSlcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwU2Nob29sRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVkaXQgaXRlbSBpbiBkYXRhYmFzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5lZGl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgnc2Nob29scycsIHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBzdHVkZW50OiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwic3R1ZGVudFwiXScpLnZhbHVlKVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgaXRlbSBmcm9tIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ9CS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINCy0YvQsdGA0LDQvdC90YPRjiDRiNC60L7Qu9GDPycpKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmRlbGV0ZSgnc2Nob29scycsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aXRsZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBzdHVkZW50OiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwic3R1ZGVudFwiXScpLnZhbHVlKVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldHVwU2Nob29sRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0TmV3U3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCBzY2hvb2wgZmlsdGVyIHZhbHVlc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXR1cFNjaG9vbEZpbHRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5nZXRTY2hvb2woKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPjwvb3B0aW9uPic7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2Nob29sU2VsZWN0LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlIGJsb2NrIHN0YXRlIGFjY29yZGluZyB0byBmaWx0ZXIgc2VsZWN0IHZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmhhbmRsZVN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5zY2hvb2xTZWxlY3QudmFsdWUpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0RWRpdFN0YXRlKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSB0ZW1wbGF0ZSBmb3IgZWRpdC9kZWxldGUgaXRlbSBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXRFZGl0U3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzY2hvb2xJZCA9IHNlbGYuc2Nob29sU2VsZWN0LnZhbHVlID8gcGFyc2VJbnQoc2VsZi5zY2hvb2xTZWxlY3QudmFsdWUpIDogJyc7XG5cbiAgICAgICAgICAgIHNlbGYuZ2V0U2Nob29sKHNjaG9vbElkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZVswXSxcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICBib3guY2xhc3NMaXN0LmFkZCgnYWRtaW5TY2hvb2xzX19lZGl0Jyk7XG5cbiAgICAgICAgICAgICAgICBib3guaW5uZXJIVE1MID0gc2VsZi5lZGl0VGVtcGxhdGU7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluU2Nob29sc19fdGl0bGUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlID0gZGF0YS5pZDtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSA9IGRhdGEudGl0bGU7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInN0dWRlbnRcIl0nKS52YWx1ZSA9IGRhdGEuc3R1ZGVudDtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hvb2xzX19ib3hfX2J1dHRvbl90eXBlX2FkZCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnJlbmRlcihib3gpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXBhcmUgdGVtcGxhdGUgZm9yIGFkZCBuZXcgaXRlbSBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5nZXRTY2hvb2woKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICBib3guY2xhc3NMaXN0LmFkZCgnYWRtaW5TY2hvb2xzX19hZGQnKTtcblxuICAgICAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSBzZWxmLmVkaXRUZW1wbGF0ZTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hvb2xzX19ib3hfX2NvbF8xJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hvb2xzX19ib3hfX2J1dHRvbl90eXBlX2VkaXQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaG9vbHNfX2JveF9fYnV0dG9uX3R5cGVfcmVtb3ZlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyKGJveCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRlbXBsYXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnJlbmRlciA9IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBzZWxmLmNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgICAgIHNlbGYuY29udGVudC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcG9ydCBwcm9wZXJ0aWVzIGZyb20gTWFpbiBjbGFzc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5ib2R5ID0gYXBwLm1vZHVsZXMubWFpbi5ib2R5O1xuICAgICAgICAgICAgc2VsZi5hbGVydCA9IGFwcC5tb2R1bGVzLmFkbWluLmFsZXJ0O1xuICAgICAgICAgICAgc2VsZi5nZXRTY2hvb2wgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0U2Nob29sO1xuICAgICAgICAgICAgc2VsZi5pbnNlcnQgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuaW5zZXJ0O1xuICAgICAgICAgICAgc2VsZi51cGRhdGUgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkudXBkYXRlO1xuICAgICAgICAgICAgc2VsZi5kZWxldGUgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZGVsZXRlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0IG1vZHVsZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5jb250YWluZXIpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuaW1wb3J0RGVmYXVsdHMoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwU2Nob29sRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lcigpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghKCdtb2R1bGVzJyBpbiBhcHApKSB7XG4gICAgICAgIGFwcC5tb2R1bGVzID0ge307XG4gICAgfVxuXG4gICAgYXBwLm1vZHVsZXMuYWRtaW5TY2hvb2xzID0gbmV3IEFkbWluU2Nob29scygpO1xufSkoKTtcbiIsInZhciBpbml0QXBwID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCdtb2R1bGVzJyBpbiBhcHAgJiYgJ21haW4nIGluIGFwcC5tb2R1bGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE1haW4gY2xhc3MuXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgdmFyIE1haW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGYuaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKTtcbiAgICAgICAgc2VsZi5ib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgICAgICBzZWxmLm1vZHVsZXMgPSBhcHAubW9kdWxlcztcbiAgICAgICAgc2VsZi5saWJyYXJ5ID0gbmV3IExpYnJhcnkoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdCBsaWJyYXJ5IG1vZHVsZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbml0TGlicmFyeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5saWJyYXJ5LmluaXQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdCBhbGwgbW9kdWxlcyBpbiAkLm1vZHVsZXNcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaW5pdE1vZHVsZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIG1vZHVsZSBpbiBzZWxmLm1vZHVsZXMpIHtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZXMuaGFzT3duUHJvcGVydHkobW9kdWxlKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5tb2R1bGVzW21vZHVsZV0uaW5pdCAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlICE9PSAnbWFpbicgJiYgbW9kdWxlICE9PSAnbGlicmFyeScpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2R1bGVzW21vZHVsZV0uaW5pdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0IG1vZHVsZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmluaXRMaWJyYXJ5KCk7XG4gICAgICAgICAgICBzZWxmLmluaXRNb2R1bGVzKCk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghKCdtb2R1bGVzJyBpbiBhcHApKSB7XG4gICAgICAgIGFwcC5tb2R1bGVzID0ge307XG4gICAgfVxuXG4gICAgYXBwLm1vZHVsZXMubWFpbiA9IG5ldyBNYWluKCk7XG5cbiAgICBhcHAubW9kdWxlcy5tYWluLmluaXQoKTtcbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgaW5pdEFwcCk7XG4iXX0=
