!function(){if(!("modules"in app&&"adminAuthors"in app.modules)){var e=function(){var e=this;e.body="",e.alert="",e.getAuthor="",e.insert="",e.update="",e.container=document.querySelector(".adminAuthors"),e.content=e.container.querySelector(".adminAuthors__content"),e.authorSelect=e.container.querySelector('.formSelect__select[name="author"]'),e.editTemplate=e.container.querySelector("#adminAuthors-template").innerHTML,e.setupListener=function(){e.authorSelect.addEventListener("change",e.handleState),e.container.addEventListener("click",e.router)},e.router=function(t){t.preventDefault();var n=t.target.dataset.action;n&&e[n]&&e[n]()},e.add=function(){e.insert("authors",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,description:e.container.querySelector('.formInput__input[name="description"]').value,photo:e.container.querySelector('.formInput__input[name="photo"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupAuthorFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.edit=function(){e.update("authors",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,description:e.container.querySelector('.formInput__input[name="description"]').value,photo:e.container.querySelector('.formInput__input[name="photo"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"})},function(t){e.alert({title:"",text:t,type:"error"})})},e.remove=function(){confirm("Вы действительно хотите удалить выбранного лектора?")&&e["delete"]("authors",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,description:e.container.querySelector('.formInput__input[name="description"]').value,photo:e.container.querySelector('.formInput__input[name="photo"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupAuthorFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.setupAuthorFilter=function(){e.getAuthor().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.authorSelect.innerHTML=n})},e.handleState=function(){e.authorSelect.value?e.setEditState():e.setNewState()},e.setEditState=function(){var t=e.authorSelect.value?parseInt(e.authorSelect.value):"";e.getAuthor(t).then(function(t){var n=t[0],r=document.createElement("div");r.classList.add("adminAuthors__edit"),r.innerHTML=e.editTemplate,r.querySelector(".adminAuthors__title").style.display="none",r.querySelector('.formInput__input[name="id"]').value=n.id,r.querySelector('.formInput__input[name="title"]').value=n.title,r.querySelector('.formInput__input[name="description"]').value=n.description,r.querySelector('.formInput__input[name="photo"]').value=n.photo,r.querySelector(".adminAuthors__box__button_type_add").style.display="none",e.render(r)})},e.setNewState=function(){var t=document.createElement("div");t.classList.add("adminAuthors__add"),t.innerHTML=e.editTemplate,t.querySelector(".adminAuthors__box__col_1").style.display="none",t.querySelector(".adminAuthors__box__button_type_edit").style.display="none",t.querySelector(".adminAuthors__box__button_type_remove").style.display="none",e.render(t)},e.render=function(t){e.content.innerHTML="",e.content.appendChild(t)},e.importDefaults=function(){e.body=app.modules.main.body,e.alert=app.modules.admin.alert,e.getAuthor=app.modules.main.library.getAuthor,e.insert=app.modules.main.library.insert,e.update=app.modules.main.library.update,e["delete"]=app.modules.main.library["delete"]},e.init=function(){e.container&&(e.importDefaults(),e.setupAuthorFilter(),e.handleState(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminAuthors=new e}}(),function(){if(!("modules"in app&&"admin"in app.modules)){var e=function(){var e=this;e.container=document.querySelector(".admin"),e.aside=e.container.querySelector(".admin__aside"),e.setupListener=function(){e.aside.addEventListener("click",e.handleAsideClick)},e.handleAsideClick=function(t){t.preventDefault();var n=t.target,r=n.tagName,a="";activeBox="",id="","A"===r&&(id=n.getAttribute("href"),a=e.aside.querySelector(".admin__aside__link_state_active"),activeBox=e.container.querySelector(".admin__box_state_active"),a&&a.classList.remove("admin__aside__link_state_active"),activeBox&&activeBox.classList.remove("admin__box_state_active"),n.classList.add("admin__aside__link_state_active"),e.container.querySelector(id).classList.add("admin__box_state_active"))},e.alert=function(e){alert(e.text)},e.importDefaults=function(){e.body=app.modules.main.body},e.init=function(){e.container&&(e.importDefaults(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.admin=new e}}(),function(){if(!("modules"in app&&"adminLectures"in app.modules)){var e=function(){var e=this;e.body="",e.alert="",e.getLecture="",e.getSchool="",e.getAuthor="",e.getPlace="",e.insert="",e.update="",e.container=document.querySelector(".adminLectures"),e.content=e.container.querySelector(".adminLectures__content"),e.lectureSelect=e.container.querySelector('.formSelect__select[name="lecture"]'),e.editTemplate=e.container.querySelector("#adminLectures-template").innerHTML,e.setupListener=function(){e.lectureSelect.addEventListener("change",e.handleState),e.container.addEventListener("click",e.router)},e.router=function(t){t.preventDefault();var n=t.target.dataset.action;n&&e[n]&&e[n]()},e.add=function(){e.insert("lectures",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,school:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="school"] option:checked')).map(function(e){return parseInt(e.value)}),author:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="author"] option:checked')).map(function(e){return parseInt(e.value)}),date:e.container.querySelector('.formInput__input[name="date"]').value,time:e.container.querySelector('.formInput__input[name="time"]').value,place:parseInt(e.container.querySelector('.formSelect__select[name="place"]').value),isOver:1===parseInt(e.container.querySelector('.formSelect__select[name="isOver"]').value),resources:e.container.querySelector('.formInput__input[name="resources"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupLectureFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.edit=function(){e.update("lectures",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,school:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="school"] option:checked')).map(function(e){return parseInt(e.value)}),author:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="author"] option:checked')).map(function(e){return parseInt(e.value)}),date:e.container.querySelector('.formInput__input[name="date"]').value,time:e.container.querySelector('.formInput__input[name="time"]').value,place:parseInt(e.container.querySelector('.formSelect__select[name="place"]').value),isOver:1===parseInt(e.container.querySelector('.formSelect__select[name="isOver"]').value),resources:e.container.querySelector('.formInput__input[name="resources"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"})},function(t){e.alert({title:"",text:t,type:"error"})})},e.remove=function(){confirm("Вы действительно хотите удалить выбранную лекцию?")&&e["delete"]("lectures",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,school:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="school"] option:checked')).map(function(e){return parseInt(e.value)}),author:[].slice.call(e.container.querySelectorAll('.formSelect__select[name="author"] option:checked')).map(function(e){return parseInt(e.value)}),date:e.container.querySelector('.formInput__input[name="date"]').value,time:e.container.querySelector('.formInput__input[name="time"]').value,place:parseInt(e.container.querySelector('.formSelect__select[name="place"]').value),isOver:1===parseInt(e.container.querySelector('.formSelect__select[name="isOver"]').value),resources:e.container.querySelector('.formInput__input[name="resources"]').value}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupLectureFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.setupLectureFilter=function(){e.getLecture().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.lectureSelect.innerHTML=n},function(t){e.alert({title:"",text:t,type:"error"})})},e.handleState=function(){e.lectureSelect.value?e.setEditState():e.setNewState()},e.setEditState=function(){var t=e.lectureSelect.value?parseInt(e.lectureSelect.value):"",n={};e.getSchool().then(function(t){return n.schools=t,e.getAuthor()}).then(function(t){return n.authors=t,e.getPlace()}).then(function(r){n.places=r,e.getLecture(t).then(function(t){n.response=t[0];var r=document.createElement("div");r.classList.add("adminLectures__edit"),r.innerHTML=e.editTemplate;var a="",o="",i="";n.schools.forEach(function(e){var t=n.response.school.indexOf(e.id)!==-1?"selected":"";a+="<option "+t+' value="'+e.id+'">'+e.title+" ("+e.student+" чел.)</option>"}),n.authors.forEach(function(e){var t=n.response.author.indexOf(e.id)!==-1?"selected":"";o+="<option "+t+' value="'+e.id+'">'+e.title+"</option>"}),n.places.forEach(function(e){var t=n.response.place===e.id?"selected":"";i+="<option "+t+' value="'+e.id+'">'+e.title+" (вместимость: "+e.capacity+" чел.)</option>"}),r.querySelector(".adminLectures__title").style.display="none",r.querySelector('.formInput__input[name="id"]').value=n.response.id,r.querySelector('.formInput__input[name="title"]').value=n.response.title,r.querySelector('.formSelect__select[name="school"]').innerHTML=a,r.querySelector('.formSelect__select[name="author"]').innerHTML=o,r.querySelector('.formInput__input[name="date"]').value=n.response.date,r.querySelector('.formInput__input[name="time"]').value=n.response.time,r.querySelector('.formSelect__select[name="place"]').innerHTML=i,r.querySelector('.formSelect__select[name="isOver"] option[value="'+(n.response.isOver?1:0)+'"]').selected=!0,r.querySelector('.formInput__input[name="resources"]').value=n.response.resources,r.querySelector(".adminLectures__box__button_type_add").style.display="none",e.render(r)},function(t){e.alert({title:"",text:t,type:"error"})})})},e.setNewState=function(){var t={};e.getSchool().then(function(n){return t.schools=n,e.getAuthor()}).then(function(n){return t.authors=n,e.getPlace()}).then(function(n){t.places=n;var r=document.createElement("div");r.classList.add("adminLectures__add"),r.innerHTML=e.editTemplate;var a="",o="",i="";t.schools.forEach(function(e){a+='<option value="'+e.id+'">'+e.title+" ("+e.student+" чел.)</option>"}),t.authors.forEach(function(e){o+='<option value="'+e.id+'">'+e.title+"</option>"}),t.places.forEach(function(e){i+='<option value="'+e.id+'">'+e.title+" (вместимость: "+e.capacity+" чел.)</option>"}),r.querySelector(".adminLectures__box__col_1").style.display="none",r.querySelector('.formSelect__select[name="school"]').innerHTML=a,r.querySelector('.formSelect__select[name="author"]').innerHTML=o,r.querySelector('.formSelect__select[name="place"]').innerHTML=i,r.querySelector(".adminLectures__box__button_type_edit").style.display="none",r.querySelector(".adminLectures__box__button_type_remove").style.display="none",e.render(r)})},e.render=function(t){e.content.innerHTML="",e.content.appendChild(t)},e.importDefaults=function(){e.body=app.modules.main.body,e.alert=app.modules.admin.alert,e.getLecture=app.modules.main.library.getLecture,e.getSchool=app.modules.main.library.getSchool,e.getAuthor=app.modules.main.library.getAuthor,e.getPlace=app.modules.main.library.getPlace,e.insert=app.modules.main.library.insert,e.update=app.modules.main.library.update,e["delete"]=app.modules.main.library["delete"]},e.init=function(){e.container&&(e.importDefaults(),e.setupLectureFilter(),e.handleState(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminLectures=new e}}(),function(){if(!("modules"in app&&"adminPlaces"in app.modules)){var e=function(){var e=this;e.body="",e.alert="",e.getPlace="",e.insert="",e.update="",e.container=document.querySelector(".adminPlaces"),e.content=e.container.querySelector(".adminPlaces__content"),e.placeSelect=e.container.querySelector('.formSelect__select[name="place"]'),e.editTemplate=e.container.querySelector("#adminPlaces-template").innerHTML,e.setupListener=function(){e.placeSelect.addEventListener("change",e.handleState),e.container.addEventListener("click",e.router)},e.router=function(t){t.preventDefault();var n=t.target.dataset.action;n&&e[n]&&e[n]()},e.add=function(){e.insert("places",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,address:e.container.querySelector('.formInput__input[name="address"]').value,link:e.container.querySelector('.formInput__input[name="link"]').value,capacity:parseInt(e.container.querySelector('.formInput__input[name="capacity"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupPlaceFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.edit=function(){e.update("places",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,address:e.container.querySelector('.formInput__input[name="address"]').value,link:e.container.querySelector('.formInput__input[name="link"]').value,capacity:parseInt(e.container.querySelector('.formInput__input[name="capacity"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"})},function(t){e.alert({title:"",text:t,type:"error"})})},e.remove=function(){confirm("Вы действительно хотите удалить выбранную аудиторию?")&&e["delete"]("places",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,address:e.container.querySelector('.formInput__input[name="address"]').value,link:e.container.querySelector('.formInput__input[name="link"]').value,capacity:parseInt(e.container.querySelector('.formInput__input[name="capacity"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupPlaceFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.setupPlaceFilter=function(){e.getPlace().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.placeSelect.innerHTML=n})},e.handleState=function(){e.placeSelect.value?e.setEditState():e.setNewState()},e.setEditState=function(){var t=e.placeSelect.value?parseInt(e.placeSelect.value):"";e.getPlace(t).then(function(t){var n=t[0],r=document.createElement("div");r.classList.add("adminPlaces__edit"),r.innerHTML=e.editTemplate,r.querySelector(".adminPlaces__title").style.display="none",r.querySelector('.formInput__input[name="id"]').value=n.id,r.querySelector('.formInput__input[name="title"]').value=n.title,r.querySelector('.formInput__input[name="address"]').value=n.address,r.querySelector('.formInput__input[name="link"]').value=n.link,r.querySelector('.formInput__input[name="capacity"]').value=n.capacity,r.querySelector(".adminPlaces__box__button_type_add").style.display="none",e.render(r)})},e.setNewState=function(){e.getPlace().then(function(t){var n=document.createElement("div");n.classList.add("adminPlaces__add"),n.innerHTML=e.editTemplate,n.querySelector(".adminPlaces__box__col_1").style.display="none",n.querySelector(".adminPlaces__box__button_type_edit").style.display="none",n.querySelector(".adminPlaces__box__button_type_remove").style.display="none",e.render(n)})},e.render=function(t){e.content.innerHTML="",e.content.appendChild(t)},e.importDefaults=function(){e.body=app.modules.main.body,e.alert=app.modules.admin.alert,e.getPlace=app.modules.main.library.getPlace,e.insert=app.modules.main.library.insert,e.update=app.modules.main.library.update,e["delete"]=app.modules.main.library["delete"]},e.init=function(){e.container&&(e.importDefaults(),e.setupPlaceFilter(),e.handleState(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminPlaces=new e}}(),function(){if(!("modules"in app&&"adminSchedule"in app.modules)){var e=function(){var e=this;e.body="",e.getSchedule="",e.getPlace="",e.getSchool="",e.getAuthor="",e.expand="",e.container=document.querySelector(".adminSchedule"),e.content=e.container.querySelector(".adminSchedule__content"),e.dateFromInput=e.container.querySelector('.formInput__input[name="from"]'),e.dateToInput=e.container.querySelector('.formInput__input[name="to"]'),e.placeSelect=e.container.querySelector('.formSelect__select[name="place"]'),e.template=e.container.querySelector("#adminSchedule-template").innerHTML,e.setupListener=function(){e.dateFromInput.addEventListener("change",e.getData),e.dateToInput.addEventListener("change",e.getData),e.placeSelect.addEventListener("change",e.getData)},e.setupPlaceFilter=function(){e.getPlace().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.placeSelect.innerHTML=n})},e.getData=function(){var t=e.dateFromInput.value.replace(/-/g,"/"),n=e.dateToInput.value.replace(/-/g,"/"),r=e.placeSelect.value?parseInt(e.placeSelect.value):"";e.getSchedule(t,n,r).then(function(t){e.render(t)})},e.render=function(t){var n=document.createElement("ul");n.classList.add("adminSchedule__list"),t.lectures.forEach(function(r){var a=document.createElement("li");a.classList.add("adminSchedule__item"),a.innerHTML=e.template,a.querySelector(".adminSchedule__box__name").innerHTML=r.title,a.querySelector(".adminSchedule__box__school").innerHTML+=e.expand(r.school,{title:"schools",data:t.schools},"title"),a.querySelector(".adminSchedule__box__author").innerHTML+=e.expand(r.author,{title:"authors",data:t.authors},"title"),a.querySelector(".adminSchedule__box__date").innerHTML+=r.date,a.querySelector(".adminSchedule__box__time").innerHTML+=r.time,a.querySelector(".adminSchedule__box__place").innerHTML+=e.expand([r.place],{title:"places",data:t.places},"title"),a.querySelector(".adminSchedule__box__status").innerHTML+=r.isOver?"Лекция закончилась":"Лекция еще не закончилась",a.querySelector(".adminSchedule__box__resources a").href=r.resources,n.appendChild(a)}),e.content.innerHTML="",e.content.appendChild(n)},e.importDefaults=function(){e.body=app.modules.main.body,e.getSchedule=app.modules.main.library.getSchedule,e.getPlace=app.modules.main.library.getPlace,e.getSchool=app.modules.main.library.getSchool,e.getAuthor=app.modules.main.library.getAuthor,e.expand=app.modules.main.library.expand},e.init=function(){e.container&&(e.importDefaults(),e.setupPlaceFilter(),e.getData(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminSchedule=new e}}(),function(){if(!("modules"in app&&"adminSchools"in app.modules)){var e=function(){var e=this;e.body="",e.alert="",e.getSchool="",e.insert="",e.update="",e.container=document.querySelector(".adminSchools"),e.content=e.container.querySelector(".adminSchools__content"),e.schoolSelect=e.container.querySelector('.formSelect__select[name="school"]'),e.editTemplate=e.container.querySelector("#adminSchools-template").innerHTML,e.setupListener=function(){e.schoolSelect.addEventListener("change",e.handleState),e.container.addEventListener("click",e.router)},e.router=function(t){t.preventDefault();var n=t.target.dataset.action;n&&e[n]&&e[n]()},e.add=function(){e.insert("schools",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,student:parseInt(e.container.querySelector('.formInput__input[name="student"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupSchoolFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.edit=function(){e.update("schools",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,student:parseInt(e.container.querySelector('.formInput__input[name="student"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"})},function(t){e.alert({title:"",text:t,type:"error"})})},e.remove=function(){confirm("Вы действительно хотите удалить выбранную школу?")&&e["delete"]("schools",{id:parseInt(e.container.querySelector('.formInput__input[name="id"]').value),title:e.container.querySelector('.formInput__input[name="title"]').value,student:parseInt(e.container.querySelector('.formInput__input[name="student"]').value)}).then(function(t){e.alert({title:"",text:t,type:"success"}),e.setupSchoolFilter(),e.setNewState()},function(t){e.alert({title:"",text:t,type:"error"})})},e.setupSchoolFilter=function(){e.getSchool().then(function(t){var n='<option value=""></option>';t.forEach(function(e){n+='<option value="'+e.id+'">'+e.title+"</option>"}),e.schoolSelect.innerHTML=n})},e.handleState=function(){e.schoolSelect.value?e.setEditState():e.setNewState()},e.setEditState=function(){var t=e.schoolSelect.value?parseInt(e.schoolSelect.value):"";e.getSchool(t).then(function(t){var n=t[0],r=document.createElement("div");r.classList.add("adminSchools__edit"),r.innerHTML=e.editTemplate,r.querySelector(".adminSchools__title").style.display="none",r.querySelector('.formInput__input[name="id"]').value=n.id,r.querySelector('.formInput__input[name="title"]').value=n.title,r.querySelector('.formInput__input[name="student"]').value=n.student,r.querySelector(".adminSchools__box__button_type_add").style.display="none",e.render(r)})},e.setNewState=function(){e.getSchool().then(function(t){var n=document.createElement("div");n.classList.add("adminSchools__add"),n.innerHTML=e.editTemplate,n.querySelector(".adminSchools__box__col_1").style.display="none",n.querySelector(".adminSchools__box__button_type_edit").style.display="none",n.querySelector(".adminSchools__box__button_type_remove").style.display="none",e.render(n)})},e.render=function(t){e.content.innerHTML="",e.content.appendChild(t)},e.importDefaults=function(){e.body=app.modules.main.body,e.alert=app.modules.admin.alert,e.getSchool=app.modules.main.library.getSchool,e.insert=app.modules.main.library.insert,e.update=app.modules.main.library.update,e["delete"]=app.modules.main.library["delete"]},e.init=function(){e.container&&(e.importDefaults(),e.setupSchoolFilter(),e.handleState(),e.setupListener())}};"modules"in app||(app.modules={}),app.modules.adminSchools=new e}}();var initApp=function(){if(!("modules"in app&&"main"in app.modules)){var e=function(){var e=this;e.html=document.querySelector("html"),e.body=document.querySelector("body"),e.modules=app.modules,e.library=new Library,e.initLibrary=function(){e.library.init()},e.initModules=function(){for(var t in e.modules)e.modules.hasOwnProperty(t)&&"undefined"!=typeof e.modules[t].init&&"main"!==t&&"library"!==t&&e.modules[t].init()},e.init=function(){e.initLibrary(),e.initModules()}};"modules"in app||(app.modules={}),app.modules.main=new e,app.modules.main.init()}};window.addEventListener("load",initApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluQXV0aG9ycy9hZG1pbkF1dGhvcnMuanMiLCJhZG1pbi9hZG1pbi5qcyIsImFkbWluTGVjdHVyZXMvYWRtaW5MZWN0dXJlcy5qcyIsImFkbWluUGxhY2VzL2FkbWluUGxhY2VzLmpzIiwiYWRtaW5TY2hlZHVsZS9hZG1pblNjaGVkdWxlLmpzIiwiYWRtaW5TY2hvb2xzL2FkbWluU2Nob29scy5qcyIsIm1haW4vbWFpbi5qcyJdLCJuYW1lcyI6WyJhcHAiLCJtb2R1bGVzIiwiQWRtaW5BdXRob3JzIiwic2VsZiIsInRoaXMiLCJib2R5IiwiYWxlcnQiLCJnZXRBdXRob3IiLCJpbnNlcnQiLCJ1cGRhdGUiLCJjb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiYXV0aG9yU2VsZWN0IiwiZWRpdFRlbXBsYXRlIiwiaW5uZXJIVE1MIiwic2V0dXBMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTdGF0ZSIsInJvdXRlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhY3Rpb24iLCJ0YXJnZXQiLCJkYXRhc2V0IiwiYWRkIiwiaWQiLCJwYXJzZUludCIsInZhbHVlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInBob3RvIiwidGhlbiIsInJlc3BvbnNlIiwidGV4dCIsInR5cGUiLCJzZXR1cEF1dGhvckZpbHRlciIsInNldE5ld1N0YXRlIiwiZWRpdCIsInJlbW92ZSIsImNvbmZpcm0iLCJodG1sIiwiZm9yRWFjaCIsIml0ZW0iLCJzZXRFZGl0U3RhdGUiLCJhdXRob3JJZCIsImRhdGEiLCJib3giLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0Iiwic3R5bGUiLCJkaXNwbGF5IiwicmVuZGVyIiwidGVtcGxhdGUiLCJhcHBlbmRDaGlsZCIsImltcG9ydERlZmF1bHRzIiwibWFpbiIsImFkbWluIiwibGlicmFyeSIsImluaXQiLCJhZG1pbkF1dGhvcnMiLCJBZG1pbiIsImFzaWRlIiwiaGFuZGxlQXNpZGVDbGljayIsInRhZ05hbWUiLCJhY3RpdmVUYXJnZXQiLCJhY3RpdmVCb3giLCJnZXRBdHRyaWJ1dGUiLCJvcHRpb25zIiwiQWRtaW5MZWN0dXJlcyIsImdldExlY3R1cmUiLCJnZXRTY2hvb2wiLCJnZXRQbGFjZSIsImxlY3R1cmVTZWxlY3QiLCJzY2hvb2wiLCJzbGljZSIsImNhbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiYXV0aG9yIiwiZGF0ZSIsInRpbWUiLCJwbGFjZSIsImlzT3ZlciIsInJlc291cmNlcyIsInNldHVwTGVjdHVyZUZpbHRlciIsImxlY3R1cmVJZCIsInNjaG9vbFNlbGVjdCIsInBsYWNlU2VsZWN0Iiwic2Nob29scyIsImlzU2VsZWN0ZWQiLCJpbmRleE9mIiwic3R1ZGVudCIsImF1dGhvcnMiLCJwbGFjZXMiLCJjYXBhY2l0eSIsInNlbGVjdGVkIiwiYWRtaW5MZWN0dXJlcyIsIkFkbWluUGxhY2VzIiwiYWRkcmVzcyIsImxpbmsiLCJzZXR1cFBsYWNlRmlsdGVyIiwicGxhY2VJZCIsImFkbWluUGxhY2VzIiwiQWRtaW5TY2hlZHVsZSIsImdldFNjaGVkdWxlIiwiZXhwYW5kIiwiZGF0ZUZyb21JbnB1dCIsImRhdGVUb0lucHV0IiwiZ2V0RGF0YSIsImRhdGVGcm9tIiwicmVwbGFjZSIsImRhdGVUbyIsImNvbnRlbnRMaXN0IiwibGVjdHVyZXMiLCJjb250ZW50SXRlbSIsImhyZWYiLCJhZG1pblNjaGVkdWxlIiwiQWRtaW5TY2hvb2xzIiwic2V0dXBTY2hvb2xGaWx0ZXIiLCJzY2hvb2xJZCIsImFkbWluU2Nob29scyIsImluaXRBcHAiLCJNYWluIiwiTGlicmFyeSIsImluaXRMaWJyYXJ5IiwiaW5pdE1vZHVsZXMiLCJtb2R1bGUiLCJoYXNPd25Qcm9wZXJ0eSIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxLQUFBLFdBQUFBLE1BQUEsZ0JBQUFBLEtBQUFDLFNBQUEsQ0FRQSxHQUFBQyxHQUFBLFdBQ0EsR0FBQUMsR0FBQUMsSUFFQUQsR0FBQUUs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RSxHQUFBLFlBQUFBLEdBRUE3SCxFQUFBRixRQUFBK0gsR0FBQXBFLFFBWUF6RCxFQUFBeUQsS0FBQSxXQUNBekQsRUFBQTJILGNBQ0EzSCxFQUFBNEgsZUFJQSxZQUFBL0gsT0FDQUEsSUFBQUMsWUFHQUQsSUFBQUMsUUFBQXdELEtBQUEsR0FBQW1FLEdBRUE1SCxJQUFBQyxRQUFBd0QsS0FBQUcsUUFHQXNFLFFBQUFoSCxpQkFBQSxPQUFBeUciLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICAgIGlmICgnbW9kdWxlcycgaW4gYXBwICYmICdhZG1pbkF1dGhvcnMnIGluIGFwcC5tb2R1bGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEFkbWluQXV0aG9ycyBjbGFzcy5cbiAgICAgKiBAY2xhc3NcbiAgICAgKi9cbiAgICB2YXIgQWRtaW5BdXRob3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5ib2R5ID0gJyc7XG4gICAgICAgIHNlbGYuYWxlcnQgPSAnJztcbiAgICAgICAgc2VsZi5nZXRBdXRob3IgPSAnJztcbiAgICAgICAgc2VsZi5pbnNlcnQgPSAnJztcbiAgICAgICAgc2VsZi51cGRhdGUgPSAnJztcbiAgICAgICAgc2VsZi5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5BdXRob3JzJyk7XG4gICAgICAgIHNlbGYuY29udGVudCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkF1dGhvcnNfX2NvbnRlbnQnKTtcbiAgICAgICAgc2VsZi5hdXRob3JTZWxlY3QgPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJhdXRob3JcIl0nKTtcbiAgICAgICAgc2VsZi5lZGl0VGVtcGxhdGUgPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjYWRtaW5BdXRob3JzLXRlbXBsYXRlJykuaW5uZXJIVE1MO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwTGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYXV0aG9yU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHNlbGYuaGFuZGxlU3RhdGUpO1xuICAgICAgICAgICAgc2VsZi5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxmLnJvdXRlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdXRlIGNvbnRhaW5lciBjbGljayBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucm91dGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBldmVudC50YXJnZXQuZGF0YXNldC5hY3Rpb247XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxmW2FjdGlvbl0pIHtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmW2FjdGlvbl0oKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgaXRlbSB0byBkYXRhYmFzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5hZGQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuaW5zZXJ0KCdhdXRob3JzJywge1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiaWRcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aXRsZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiZGVzY3JpcHRpb25cIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBwaG90bzogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInBob3RvXCJdJykudmFsdWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwQXV0aG9yRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVkaXQgaXRlbSBpbiBkYXRhYmFzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5lZGl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgnYXV0aG9ycycsIHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImRlc2NyaXB0aW9uXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgcGhvdG86IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJwaG90b1wiXScpLnZhbHVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBpdGVtIGZyb20gZGF0YWJhc2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlybSgn0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0LLRi9Cx0YDQsNC90L3QvtCz0L4g0LvQtdC60YLQvtGA0LA/JykpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuZGVsZXRlKCdhdXRob3JzJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiZGVzY3JpcHRpb25cIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGhvdG86IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJwaG90b1wiXScpLnZhbHVlXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBBdXRob3JGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHVwIGF1dGhvciBmaWx0ZXIgdmFsdWVzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwQXV0aG9yRmlsdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmdldEF1dGhvcigpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICc8b3B0aW9uIHZhbHVlPVwiXCI+PC9vcHRpb24+JztcblxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiJysgaXRlbS5pZCArJ1wiPicrIGl0ZW0udGl0bGUgKyc8L29wdGlvbj4nO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5hdXRob3JTZWxlY3QuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2UgYmxvY2sgc3RhdGUgYWNjb3JkaW5nIHRvIGZpbHRlciBzZWxlY3QgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaGFuZGxlU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmF1dGhvclNlbGVjdC52YWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5zZXRFZGl0U3RhdGUoKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0TmV3U3RhdGUoKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVwYXJlIHRlbXBsYXRlIGZvciBlZGl0L2RlbGV0ZSBpdGVtIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldEVkaXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGF1dGhvcklkID0gc2VsZi5hdXRob3JTZWxlY3QudmFsdWUgPyBwYXJzZUludChzZWxmLmF1dGhvclNlbGVjdC52YWx1ZSkgOiAnJztcblxuICAgICAgICAgICAgc2VsZi5nZXRBdXRob3IoYXV0aG9ySWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlWzBdLFxuICAgICAgICAgICAgICAgICAgICBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdhZG1pbkF1dGhvcnNfX2VkaXQnKTtcblxuICAgICAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSBzZWxmLmVkaXRUZW1wbGF0ZTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5BdXRob3JzX190aXRsZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUgPSBkYXRhLmlkO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aXRsZVwiXScpLnZhbHVlID0gZGF0YS50aXRsZTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiZGVzY3JpcHRpb25cIl0nKS52YWx1ZSA9IGRhdGEuZGVzY3JpcHRpb247XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInBob3RvXCJdJykudmFsdWUgPSBkYXRhLnBob3RvO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkF1dGhvcnNfX2JveF9fYnV0dG9uX3R5cGVfYWRkJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyKGJveCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSB0ZW1wbGF0ZSBmb3IgYWRkIG5ldyBpdGVtIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldE5ld1N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdhZG1pbkF1dGhvcnNfX2FkZCcpO1xuXG4gICAgICAgICAgICBib3guaW5uZXJIVE1MID0gc2VsZi5lZGl0VGVtcGxhdGU7XG5cbiAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5BdXRob3JzX19ib3hfX2NvbF8xJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkF1dGhvcnNfX2JveF9fYnV0dG9uX3R5cGVfZWRpdCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5BdXRob3JzX19ib3hfX2J1dHRvbl90eXBlX3JlbW92ZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIHNlbGYucmVuZGVyKGJveCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciB0ZW1wbGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yZW5kZXIgPSBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgc2VsZi5jb250ZW50LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgICAgICBzZWxmLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGVtcGxhdGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBvcnQgcHJvcGVydGllcyBmcm9tIE1haW4gY2xhc3NcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaW1wb3J0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYm9keSA9IGFwcC5tb2R1bGVzLm1haW4uYm9keTtcbiAgICAgICAgICAgIHNlbGYuYWxlcnQgPSBhcHAubW9kdWxlcy5hZG1pbi5hbGVydDtcbiAgICAgICAgICAgIHNlbGYuZ2V0QXV0aG9yID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LmdldEF1dGhvcjtcbiAgICAgICAgICAgIHNlbGYuaW5zZXJ0ID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5Lmluc2VydDtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LnVwZGF0ZTtcbiAgICAgICAgICAgIHNlbGYuZGVsZXRlID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LmRlbGV0ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdCBtb2R1bGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuY29udGFpbmVyKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmltcG9ydERlZmF1bHRzKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXR1cEF1dGhvckZpbHRlcigpO1xuICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlU3RhdGUoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwTGlzdGVuZXIoKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBpZiAoISgnbW9kdWxlcycgaW4gYXBwKSkge1xuICAgICAgICBhcHAubW9kdWxlcyA9IHt9O1xuICAgIH1cblxuICAgIGFwcC5tb2R1bGVzLmFkbWluQXV0aG9ycyA9IG5ldyBBZG1pbkF1dGhvcnMoKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgaWYgKCdtb2R1bGVzJyBpbiBhcHAgJiYgJ2FkbWluJyBpbiBhcHAubW9kdWxlcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBBZG1pbiBjbGFzcy5cbiAgICAgKiBAY2xhc3NcbiAgICAgKi9cbiAgICB2YXIgQWRtaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbicpO1xuICAgICAgICBzZWxmLmFzaWRlID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmFkbWluX19hc2lkZScpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgZXZlbnRzIGxpc3RlbmVyc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXR1cExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmFzaWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZi5oYW5kbGVBc2lkZUNsaWNrKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlIGNsaWNrIGluIGFzaWRlIGFyZWFcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmhhbmRsZUFzaWRlQ2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAgICAgICB0YWdOYW1lID0gdGFyZ2V0LnRhZ05hbWUsXG4gICAgICAgICAgICAgICAgYWN0aXZlVGFyZ2V0ID0gJyc7XG4gICAgICAgICAgICAgICAgYWN0aXZlQm94ID0gJyc7XG4gICAgICAgICAgICAgICAgaWQgPSAnJztcblxuICAgICAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdBJykge1xuXG4gICAgICAgICAgICAgICAgaWQgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cbiAgICAgICAgICAgICAgICBhY3RpdmVUYXJnZXQgPSBzZWxmLmFzaWRlLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbl9fYXNpZGVfX2xpbmtfc3RhdGVfYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICBhY3RpdmVCb3ggPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYWRtaW5fX2JveF9zdGF0ZV9hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVUYXJnZXQpIHtcblxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYWRtaW5fX2FzaWRlX19saW5rX3N0YXRlX2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUJveCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJveC5jbGFzc0xpc3QucmVtb3ZlKCdhZG1pbl9fYm94X3N0YXRlX2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FkbWluX19hc2lkZV9fbGlua19zdGF0ZV9hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGlkKS5jbGFzc0xpc3QuYWRkKCdhZG1pbl9fYm94X3N0YXRlX2FjdGl2ZScpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3cgYWxlcnQgbW9kYWwgd2luZG93XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmFsZXJ0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgYWxlcnQob3B0aW9ucy50ZXh0KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wb3J0IHByb3BlcnRpZXMgZnJvbSBNYWluIGNsYXNzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmltcG9ydERlZmF1bHRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmJvZHkgPSBhcHAubW9kdWxlcy5tYWluLmJvZHk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXQgbW9kdWxlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbnRhaW5lcikge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cygpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lcigpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghKCdtb2R1bGVzJyBpbiBhcHApKSB7XG4gICAgICAgIGFwcC5tb2R1bGVzID0ge307XG4gICAgfVxuXG4gICAgYXBwLm1vZHVsZXMuYWRtaW4gPSBuZXcgQWRtaW4oKTtcbn0pKCk7XG5cblxuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJ21vZHVsZXMnIGluIGFwcCAmJiAnYWRtaW5MZWN0dXJlcycgaW4gYXBwLm1vZHVsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQWRtaW5MZWN0dXJlcyBjbGFzcy5cbiAgICAgKiBAY2xhc3NcbiAgICAgKi9cbiAgICB2YXIgQWRtaW5MZWN0dXJlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGYuYm9keSA9ICcnO1xuICAgICAgICBzZWxmLmFsZXJ0ID0gJyc7XG4gICAgICAgIHNlbGYuZ2V0TGVjdHVyZSA9ICcnO1xuICAgICAgICBzZWxmLmdldFNjaG9vbCA9ICcnO1xuICAgICAgICBzZWxmLmdldEF1dGhvciA9ICcnO1xuICAgICAgICBzZWxmLmdldFBsYWNlID0gJyc7XG4gICAgICAgIHNlbGYuaW5zZXJ0ID0gJyc7XG4gICAgICAgIHNlbGYudXBkYXRlID0gJyc7XG4gICAgICAgIHNlbGYuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkbWluTGVjdHVyZXMnKTtcbiAgICAgICAgc2VsZi5jb250ZW50ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmFkbWluTGVjdHVyZXNfX2NvbnRlbnQnKTtcbiAgICAgICAgc2VsZi5sZWN0dXJlU2VsZWN0ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwibGVjdHVyZVwiXScpO1xuICAgICAgICBzZWxmLmVkaXRUZW1wbGF0ZSA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNhZG1pbkxlY3R1cmVzLXRlbXBsYXRlJykuaW5uZXJIVE1MO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwTGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYubGVjdHVyZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzZWxmLmhhbmRsZVN0YXRlKTtcbiAgICAgICAgICAgIHNlbGYuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZi5yb3V0ZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3V0ZSBjb250YWluZXIgY2xpY2sgZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnJvdXRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYWN0aW9uO1xuXG4gICAgICAgICAgICBpZiAoYWN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZlthY3Rpb25dKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZlthY3Rpb25dKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGl0ZW0gdG8gZGF0YWJhc2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuYWRkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmluc2VydCgnbGVjdHVyZXMnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJpZFwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgc2Nob29sOiBbXS5zbGljZS5jYWxsKHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInNjaG9vbFwiXSBvcHRpb246Y2hlY2tlZCcpKS5tYXAoZnVuY3Rpb24oaXRlbSkge3JldHVybiBwYXJzZUludChpdGVtLnZhbHVlKX0pLFxuICAgICAgICAgICAgICAgIGF1dGhvcjogW10uc2xpY2UuY2FsbChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJhdXRob3JcIl0gb3B0aW9uOmNoZWNrZWQnKSkubWFwKGZ1bmN0aW9uKGl0ZW0pIHtyZXR1cm4gcGFyc2VJbnQoaXRlbS52YWx1ZSl9KSxcbiAgICAgICAgICAgICAgICBkYXRlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiZGF0ZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRpbWU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aW1lXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgcGxhY2U6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInBsYWNlXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgIGlzT3ZlcjogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwiaXNPdmVyXCJdJykudmFsdWUpID09PSAxLFxuICAgICAgICAgICAgICAgIHJlc291cmNlczogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInJlc291cmNlc1wiXScpLnZhbHVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5zZXR1cExlY3R1cmVGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWRpdCBpdGVtIGluIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmVkaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlKCdsZWN0dXJlcycsIHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBzY2hvb2w6IFtdLnNsaWNlLmNhbGwoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwic2Nob29sXCJdIG9wdGlvbjpjaGVja2VkJykpLm1hcChmdW5jdGlvbihpdGVtKSB7cmV0dXJuIHBhcnNlSW50KGl0ZW0udmFsdWUpfSksXG4gICAgICAgICAgICAgICAgYXV0aG9yOiBbXS5zbGljZS5jYWxsKHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cImF1dGhvclwiXSBvcHRpb246Y2hlY2tlZCcpKS5tYXAoZnVuY3Rpb24oaXRlbSkge3JldHVybiBwYXJzZUludChpdGVtLnZhbHVlKX0pLFxuICAgICAgICAgICAgICAgIGRhdGU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJkYXRlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgdGltZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpbWVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBwbGFjZTogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwicGxhY2VcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgaXNPdmVyOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJpc092ZXJcIl0nKS52YWx1ZSkgPT09IDEsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VzOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwicmVzb3VyY2VzXCJdJykudmFsdWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGl0ZW0gZnJvbSBkYXRhYmFzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKCfQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDQstGL0LHRgNCw0L3QvdGD0Y4g0LvQtdC60YbQuNGOPycpKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmRlbGV0ZSgnbGVjdHVyZXMnLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiaWRcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2Nob29sOiBbXS5zbGljZS5jYWxsKHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInNjaG9vbFwiXSBvcHRpb246Y2hlY2tlZCcpKS5tYXAoZnVuY3Rpb24oaXRlbSkge3JldHVybiBwYXJzZUludChpdGVtLnZhbHVlKX0pLFxuICAgICAgICAgICAgICAgICAgICBhdXRob3I6IFtdLnNsaWNlLmNhbGwoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwiYXV0aG9yXCJdIG9wdGlvbjpjaGVja2VkJykpLm1hcChmdW5jdGlvbihpdGVtKSB7cmV0dXJuIHBhcnNlSW50KGl0ZW0udmFsdWUpfSksXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJkYXRlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aW1lXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJwbGFjZVwiXScpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgaXNPdmVyOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJpc092ZXJcIl0nKS52YWx1ZSkgPT09IDEsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlczogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInJlc291cmNlc1wiXScpLnZhbHVlXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMZWN0dXJlRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0TmV3U3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCBsZWN0dXJlIGZpbHRlciB2YWx1ZXNcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0dXBMZWN0dXJlRmlsdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmdldExlY3R1cmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPjwvb3B0aW9uPic7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYubGVjdHVyZVNlbGVjdC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZSBibG9jayBzdGF0ZSBhY2NvcmRpbmcgdG8gZmlsdGVyIHNlbGVjdCB2YWx1ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5oYW5kbGVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYubGVjdHVyZVNlbGVjdC52YWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5zZXRFZGl0U3RhdGUoKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0TmV3U3RhdGUoKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVwYXJlIHRlbXBsYXRlIGZvciBlZGl0L2RlbGV0ZSBpdGVtIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldEVkaXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGxlY3R1cmVJZCA9IHNlbGYubGVjdHVyZVNlbGVjdC52YWx1ZSA/IHBhcnNlSW50KHNlbGYubGVjdHVyZVNlbGVjdC52YWx1ZSkgOiAnJyxcbiAgICAgICAgICAgICAgICBkYXRhID0ge307XG5cbiAgICAgICAgICAgIHNlbGYuZ2V0U2Nob29sKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGRhdGFbJ3NjaG9vbHMnXSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0QXV0aG9yKCk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgZGF0YVsnYXV0aG9ycyddID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXRQbGFjZSgpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGRhdGFbJ3BsYWNlcyddID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmdldExlY3R1cmUobGVjdHVyZUlkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbJ3Jlc3BvbnNlJ10gPSByZXNwb25zZVswXTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgYm94LmNsYXNzTGlzdC5hZGQoJ2FkbWluTGVjdHVyZXNfX2VkaXQnKTtcblxuICAgICAgICAgICAgICAgICAgICBib3guaW5uZXJIVE1MID0gc2VsZi5lZGl0VGVtcGxhdGU7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjaG9vbFNlbGVjdCA9ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yU2VsZWN0ID0gJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZVNlbGVjdCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc2Nob29scy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1NlbGVjdGVkID0gZGF0YS5yZXNwb25zZS5zY2hvb2wuaW5kZXhPZihpdGVtLmlkKSAhPT0gLTEgPyAnc2VsZWN0ZWQnIDogJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaG9vbFNlbGVjdCArPSAnPG9wdGlvbiAnKyBpc1NlbGVjdGVkICsnIHZhbHVlPVwiJysgaXRlbS5pZCArJ1wiPicrIGl0ZW0udGl0bGUgKycgKCcrIGl0ZW0uc3R1ZGVudCArJyDRh9C10LsuKTwvb3B0aW9uPic7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYXV0aG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1NlbGVjdGVkID0gZGF0YS5yZXNwb25zZS5hdXRob3IuaW5kZXhPZihpdGVtLmlkKSAhPT0gLTEgPyAnc2VsZWN0ZWQnIDogJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvclNlbGVjdCArPSAnPG9wdGlvbiAnKyBpc1NlbGVjdGVkICsnIHZhbHVlPVwiJysgaXRlbS5pZCArJ1wiPicrIGl0ZW0udGl0bGUgKyc8L29wdGlvbj4nO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBkYXRhLnBsYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1NlbGVjdGVkID0gZGF0YS5yZXNwb25zZS5wbGFjZSA9PT0gaXRlbS5pZCA/ICdzZWxlY3RlZCcgOiAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VTZWxlY3QgKz0gJzxvcHRpb24gJysgaXNTZWxlY3RlZCArJyB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnICjQstC80LXRgdGC0LjQvNC+0YHRgtGMOiAnKyBpdGVtLmNhcGFjaXR5ICsnINGH0LXQuy4pPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluTGVjdHVyZXNfX3RpdGxlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUgPSBkYXRhLnJlc3BvbnNlLmlkO1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSA9IGRhdGEucmVzcG9uc2UudGl0bGU7XG5cbiAgICAgICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInNjaG9vbFwiXScpLmlubmVySFRNTCA9IHNjaG9vbFNlbGVjdDtcblxuICAgICAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwiYXV0aG9yXCJdJykuaW5uZXJIVE1MID0gYXV0aG9yU2VsZWN0O1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiZGF0ZVwiXScpLnZhbHVlID0gZGF0YS5yZXNwb25zZS5kYXRlO1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGltZVwiXScpLnZhbHVlID0gZGF0YS5yZXNwb25zZS50aW1lO1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJwbGFjZVwiXScpLmlubmVySFRNTCA9IHBsYWNlU2VsZWN0O1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJpc092ZXJcIl0gb3B0aW9uW3ZhbHVlPVwiJyArIChkYXRhLnJlc3BvbnNlLmlzT3ZlciA/IDEgOiAwKSArICdcIl0nKS5zZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJyZXNvdXJjZXNcIl0nKS52YWx1ZSA9IGRhdGEucmVzcG9uc2UucmVzb3VyY2VzO1xuXG4gICAgICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5MZWN0dXJlc19fYm94X19idXR0b25fdHlwZV9hZGQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyKGJveCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSB0ZW1wbGF0ZSBmb3IgYWRkIG5ldyBpdGVtIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldE5ld1N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgICAgICAgICBzZWxmLmdldFNjaG9vbCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBkYXRhWydzY2hvb2xzJ10gPSByZXNwb25zZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldEF1dGhvcigpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGRhdGFbJ2F1dGhvcnMnXSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0UGxhY2UoKTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBkYXRhWydwbGFjZXMnXSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgYm94LmNsYXNzTGlzdC5hZGQoJ2FkbWluTGVjdHVyZXNfX2FkZCcpO1xuXG4gICAgICAgICAgICAgICAgYm94LmlubmVySFRNTCA9IHNlbGYuZWRpdFRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjaG9vbFNlbGVjdCA9ICcnLFxuICAgICAgICAgICAgICAgICAgICBhdXRob3JTZWxlY3QgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VTZWxlY3QgPSAnJztcblxuICAgICAgICAgICAgICAgIGRhdGEuc2Nob29scy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nob29sU2VsZWN0ICs9ICc8b3B0aW9uIHZhbHVlPVwiJysgaXRlbS5pZCArJ1wiPicrIGl0ZW0udGl0bGUgKycgKCcrIGl0ZW0uc3R1ZGVudCArJyDRh9C10LsuKTwvb3B0aW9uPic7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBkYXRhLmF1dGhvcnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhvclNlbGVjdCArPSAnPG9wdGlvbiB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRhdGEucGxhY2VzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZVNlbGVjdCArPSAnPG9wdGlvbiB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnICjQstC80LXRgdGC0LjQvNC+0YHRgtGMOiAnKyBpdGVtLmNhcGFjaXR5ICsnINGH0LXQuy4pPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5MZWN0dXJlc19fYm94X19jb2xfMScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwic2Nob29sXCJdJykuaW5uZXJIVE1MID0gc2Nob29sU2VsZWN0O1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cImF1dGhvclwiXScpLmlubmVySFRNTCA9IGF1dGhvclNlbGVjdDtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybVNlbGVjdF9fc2VsZWN0W25hbWU9XCJwbGFjZVwiXScpLmlubmVySFRNTCA9IHBsYWNlU2VsZWN0O1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkxlY3R1cmVzX19ib3hfX2J1dHRvbl90eXBlX2VkaXQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbkxlY3R1cmVzX19ib3hfX2J1dHRvbl90eXBlX3JlbW92ZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnJlbmRlcihib3gpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciB0ZW1wbGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yZW5kZXIgPSBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgc2VsZi5jb250ZW50LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgICAgICBzZWxmLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGVtcGxhdGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBvcnQgcHJvcGVydGllcyBmcm9tIE1haW4gY2xhc3NcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaW1wb3J0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYm9keSA9IGFwcC5tb2R1bGVzLm1haW4uYm9keTtcbiAgICAgICAgICAgIHNlbGYuYWxlcnQgPSBhcHAubW9kdWxlcy5hZG1pbi5hbGVydDtcbiAgICAgICAgICAgIHNlbGYuZ2V0TGVjdHVyZSA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5nZXRMZWN0dXJlO1xuICAgICAgICAgICAgc2VsZi5nZXRTY2hvb2wgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0U2Nob29sO1xuICAgICAgICAgICAgc2VsZi5nZXRBdXRob3IgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0QXV0aG9yO1xuICAgICAgICAgICAgc2VsZi5nZXRQbGFjZSA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5nZXRQbGFjZTtcbiAgICAgICAgICAgIHNlbGYuaW5zZXJ0ID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5Lmluc2VydDtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LnVwZGF0ZTtcbiAgICAgICAgICAgIHNlbGYuZGVsZXRlID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LmRlbGV0ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdCBtb2R1bGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuY29udGFpbmVyKSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmltcG9ydERlZmF1bHRzKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXR1cExlY3R1cmVGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXR1cExpc3RlbmVyKCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgaWYgKCEoJ21vZHVsZXMnIGluIGFwcCkpIHtcbiAgICAgICAgYXBwLm1vZHVsZXMgPSB7fTtcbiAgICB9XG5cbiAgICBhcHAubW9kdWxlcy5hZG1pbkxlY3R1cmVzID0gbmV3IEFkbWluTGVjdHVyZXMoKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAgIGlmICgnbW9kdWxlcycgaW4gYXBwICYmICdhZG1pblBsYWNlcycgaW4gYXBwLm1vZHVsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQWRtaW5QbGFjZXMgY2xhc3MuXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgdmFyIEFkbWluUGxhY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5ib2R5ID0gJyc7XG4gICAgICAgIHNlbGYuYWxlcnQgPSAnJztcbiAgICAgICAgc2VsZi5nZXRQbGFjZSA9ICcnO1xuICAgICAgICBzZWxmLmluc2VydCA9ICcnO1xuICAgICAgICBzZWxmLnVwZGF0ZSA9ICcnO1xuICAgICAgICBzZWxmLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblBsYWNlcycpO1xuICAgICAgICBzZWxmLmNvbnRlbnQgPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYWRtaW5QbGFjZXNfX2NvbnRlbnQnKTtcbiAgICAgICAgc2VsZi5wbGFjZVNlbGVjdCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtU2VsZWN0X19zZWxlY3RbbmFtZT1cInBsYWNlXCJdJyk7XG4gICAgICAgIHNlbGYuZWRpdFRlbXBsYXRlID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignI2FkbWluUGxhY2VzLXRlbXBsYXRlJykuaW5uZXJIVE1MO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwTGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYucGxhY2VTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2VsZi5oYW5kbGVTdGF0ZSk7XG4gICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGYucm91dGVyKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUm91dGUgY29udGFpbmVyIGNsaWNrIGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yb3V0ZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFjdGlvbjtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGZbYWN0aW9uXSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGZbYWN0aW9uXSgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBpdGVtIHRvIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmFkZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5pbnNlcnQoJ3BsYWNlcycsIHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiYWRkcmVzc1wiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIGxpbms6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJsaW5rXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgY2FwYWNpdHk6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJjYXBhY2l0eVwiXScpLnZhbHVlKVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBQbGFjZUZpbHRlcigpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0TmV3U3RhdGUoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFZGl0IGl0ZW0gaW4gZGF0YWJhc2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuZWRpdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi51cGRhdGUoJ3BsYWNlcycsIHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiYWRkcmVzc1wiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIGxpbms6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJsaW5rXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgY2FwYWNpdHk6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJjYXBhY2l0eVwiXScpLnZhbHVlKVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgaXRlbSBmcm9tIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ9CS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINCy0YvQsdGA0LDQvdC90YPRjiDQsNGD0LTQuNGC0L7RgNC40Y4/JykpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuZGVsZXRlKCdwbGFjZXMnLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiaWRcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImFkZHJlc3NcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGluazogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImxpbmtcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FwYWNpdHk6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJjYXBhY2l0eVwiXScpLnZhbHVlKVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldHVwUGxhY2VGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHVwIHBsYWNlIGZpbHRlciB2YWx1ZXNcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0dXBQbGFjZUZpbHRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5nZXRQbGFjZSgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICc8b3B0aW9uIHZhbHVlPVwiXCI+PC9vcHRpb24+JztcblxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiJysgaXRlbS5pZCArJ1wiPicrIGl0ZW0udGl0bGUgKyc8L29wdGlvbj4nO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5wbGFjZVNlbGVjdC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZSBibG9jayBzdGF0ZSBhY2NvcmRpbmcgdG8gZmlsdGVyIHNlbGVjdCB2YWx1ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5oYW5kbGVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYucGxhY2VTZWxlY3QudmFsdWUpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0RWRpdFN0YXRlKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSB0ZW1wbGF0ZSBmb3IgZWRpdC9kZWxldGUgaXRlbSBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXRFZGl0U3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwbGFjZUlkID0gc2VsZi5wbGFjZVNlbGVjdC52YWx1ZSA/IHBhcnNlSW50KHNlbGYucGxhY2VTZWxlY3QudmFsdWUpIDogJyc7XG5cbiAgICAgICAgICAgIHNlbGYuZ2V0UGxhY2UocGxhY2VJZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2VbMF0sXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgYm94LmNsYXNzTGlzdC5hZGQoJ2FkbWluUGxhY2VzX19lZGl0Jyk7XG5cbiAgICAgICAgICAgICAgICBib3guaW5uZXJIVE1MID0gc2VsZi5lZGl0VGVtcGxhdGU7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluUGxhY2VzX190aXRsZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUgPSBkYXRhLmlkO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aXRsZVwiXScpLnZhbHVlID0gZGF0YS50aXRsZTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiYWRkcmVzc1wiXScpLnZhbHVlID0gZGF0YS5hZGRyZXNzO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJsaW5rXCJdJykudmFsdWUgPSBkYXRhLmxpbms7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImNhcGFjaXR5XCJdJykudmFsdWUgPSBkYXRhLmNhcGFjaXR5O1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblBsYWNlc19fYm94X19idXR0b25fdHlwZV9hZGQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXIoYm94KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVwYXJlIHRlbXBsYXRlIGZvciBhZGQgbmV3IGl0ZW0gc3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuc2V0TmV3U3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZ2V0UGxhY2UoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICBib3guY2xhc3NMaXN0LmFkZCgnYWRtaW5QbGFjZXNfX2FkZCcpO1xuXG4gICAgICAgICAgICAgICAgYm94LmlubmVySFRNTCA9IHNlbGYuZWRpdFRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblBsYWNlc19fYm94X19jb2xfMScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluUGxhY2VzX19ib3hfX2J1dHRvbl90eXBlX2VkaXQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblBsYWNlc19fYm94X19idXR0b25fdHlwZV9yZW1vdmUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXIoYm94KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGVtcGxhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucmVuZGVyID0gZnVuY3Rpb24odGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHNlbGYuY29udGVudC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICAgICAgc2VsZi5jb250ZW50LmFwcGVuZENoaWxkKHRlbXBsYXRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wb3J0IHByb3BlcnRpZXMgZnJvbSBNYWluIGNsYXNzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmltcG9ydERlZmF1bHRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmJvZHkgPSBhcHAubW9kdWxlcy5tYWluLmJvZHk7XG4gICAgICAgICAgICBzZWxmLmFsZXJ0ID0gYXBwLm1vZHVsZXMuYWRtaW4uYWxlcnQ7XG4gICAgICAgICAgICBzZWxmLmdldFBsYWNlID0gYXBwLm1vZHVsZXMubWFpbi5saWJyYXJ5LmdldFBsYWNlO1xuICAgICAgICAgICAgc2VsZi5pbnNlcnQgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuaW5zZXJ0O1xuICAgICAgICAgICAgc2VsZi51cGRhdGUgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkudXBkYXRlO1xuICAgICAgICAgICAgc2VsZi5kZWxldGUgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZGVsZXRlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0IG1vZHVsZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5jb250YWluZXIpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuaW1wb3J0RGVmYXVsdHMoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwUGxhY2VGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXR1cExpc3RlbmVyKCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgaWYgKCEoJ21vZHVsZXMnIGluIGFwcCkpIHtcbiAgICAgICAgYXBwLm1vZHVsZXMgPSB7fTtcbiAgICB9XG5cbiAgICBhcHAubW9kdWxlcy5hZG1pblBsYWNlcyA9IG5ldyBBZG1pblBsYWNlcygpO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCdtb2R1bGVzJyBpbiBhcHAgJiYgJ2FkbWluU2NoZWR1bGUnIGluIGFwcC5tb2R1bGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEFkbWluU2NoZWR1bGUgY2xhc3MuXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgdmFyIEFkbWluU2NoZWR1bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLmJvZHkgPSAnJztcbiAgICAgICAgc2VsZi5nZXRTY2hlZHVsZSA9ICcnO1xuICAgICAgICBzZWxmLmdldFBsYWNlID0gJyc7XG4gICAgICAgIHNlbGYuZ2V0U2Nob29sID0gJyc7XG4gICAgICAgIHNlbGYuZ2V0QXV0aG9yID0gJyc7XG4gICAgICAgIHNlbGYuZXhwYW5kID0gJyc7XG4gICAgICAgIHNlbGYuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkbWluU2NoZWR1bGUnKTtcbiAgICAgICAgc2VsZi5jb250ZW50ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmFkbWluU2NoZWR1bGVfX2NvbnRlbnQnKTtcbiAgICAgICAgc2VsZi5kYXRlRnJvbUlucHV0ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImZyb21cIl0nKTtcbiAgICAgICAgc2VsZi5kYXRlVG9JbnB1dCA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0b1wiXScpO1xuICAgICAgICBzZWxmLnBsYWNlU2VsZWN0ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwicGxhY2VcIl0nKTtcbiAgICAgICAgc2VsZi50ZW1wbGF0ZSA9IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNhZG1pblNjaGVkdWxlLXRlbXBsYXRlJykuaW5uZXJIVE1MO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwTGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZGF0ZUZyb21JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzZWxmLmdldERhdGEpO1xuICAgICAgICAgICAgc2VsZi5kYXRlVG9JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzZWxmLmdldERhdGEpO1xuICAgICAgICAgICAgc2VsZi5wbGFjZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzZWxmLmdldERhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCBwbGFjZSBmaWx0ZXIgdmFsdWVzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwUGxhY2VGaWx0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZ2V0UGxhY2UoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPjwvb3B0aW9uPic7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicrIGl0ZW0uaWQgKydcIj4nKyBpdGVtLnRpdGxlICsnPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYucGxhY2VTZWxlY3QuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgZGF0YSBmcm9tIGxpYnJhcnkgYWNjb3JkaW5nIHRvIGZpbHRlciB2YWx1ZXNcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuZ2V0RGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRhdGVGcm9tID0gc2VsZi5kYXRlRnJvbUlucHV0LnZhbHVlLnJlcGxhY2UoLy0vZywgJy8nKSxcbiAgICAgICAgICAgICAgICBkYXRlVG8gPSBzZWxmLmRhdGVUb0lucHV0LnZhbHVlLnJlcGxhY2UoLy0vZywgJy8nKSxcbiAgICAgICAgICAgICAgICBwbGFjZSA9IHNlbGYucGxhY2VTZWxlY3QudmFsdWUgPyBwYXJzZUludChzZWxmLnBsYWNlU2VsZWN0LnZhbHVlKSA6ICcnO1xuXG4gICAgICAgICAgICBzZWxmLmdldFNjaGVkdWxlKGRhdGVGcm9tLCBkYXRlVG8sIHBsYWNlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXIocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciBzY2hlZHVsZSBsaXN0XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5yZW5kZXIgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIGNvbnRlbnRMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcblxuICAgICAgICAgICAgY29udGVudExpc3QuY2xhc3NMaXN0LmFkZCgnYWRtaW5TY2hlZHVsZV9fbGlzdCcpO1xuXG4gICAgICAgICAgICByZXNwb25zZS5sZWN0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW0uY2xhc3NMaXN0LmFkZCgnYWRtaW5TY2hlZHVsZV9faXRlbScpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtLmlubmVySFRNTCA9IHNlbGYudGVtcGxhdGU7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hlZHVsZV9fYm94X19uYW1lJykuaW5uZXJIVE1MID0gaXRlbS50aXRsZTtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaGVkdWxlX19ib3hfX3NjaG9vbCcpLmlubmVySFRNTCArPSBzZWxmLmV4cGFuZChpdGVtLnNjaG9vbCwge3RpdGxlOiAnc2Nob29scycsIGRhdGE6IHJlc3BvbnNlLnNjaG9vbHN9LCAndGl0bGUnKTtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaGVkdWxlX19ib3hfX2F1dGhvcicpLmlubmVySFRNTCArPSBzZWxmLmV4cGFuZChpdGVtLmF1dGhvciwge3RpdGxlOiAnYXV0aG9ycycsIGRhdGE6IHJlc3BvbnNlLmF1dGhvcnN9LCAndGl0bGUnKTtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaGVkdWxlX19ib3hfX2RhdGUnKS5pbm5lckhUTUwgKz0gaXRlbS5kYXRlO1xuXG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW0ucXVlcnlTZWxlY3RvcignLmFkbWluU2NoZWR1bGVfX2JveF9fdGltZScpLmlubmVySFRNTCArPSBpdGVtLnRpbWU7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hlZHVsZV9fYm94X19wbGFjZScpLmlubmVySFRNTCArPSBzZWxmLmV4cGFuZChbaXRlbS5wbGFjZV0sIHt0aXRsZTogJ3BsYWNlcycsIGRhdGE6IHJlc3BvbnNlLnBsYWNlc30sICd0aXRsZScpO1xuXG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW0ucXVlcnlTZWxlY3RvcignLmFkbWluU2NoZWR1bGVfX2JveF9fc3RhdHVzJykuaW5uZXJIVE1MICs9IGl0ZW0uaXNPdmVyID8gJ9Cb0LXQutGG0LjRjyDQt9Cw0LrQvtC90YfQuNC70LDRgdGMJyA6ICfQm9C10LrRhtC40Y8g0LXRidC1INC90LUg0LfQsNC60L7QvdGH0LjQu9Cw0YHRjCc7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hlZHVsZV9fYm94X19yZXNvdXJjZXMgYScpLmhyZWYgPSBpdGVtLnJlc291cmNlcztcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRMaXN0LmFwcGVuZENoaWxkKGNvbnRlbnRJdGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZWxmLmNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgICAgIHNlbGYuY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50TGlzdCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcG9ydCBwcm9wZXJ0aWVzIGZyb20gTWFpbiBjbGFzc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5ib2R5ID0gYXBwLm1vZHVsZXMubWFpbi5ib2R5O1xuICAgICAgICAgICAgc2VsZi5nZXRTY2hlZHVsZSA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5nZXRTY2hlZHVsZTtcbiAgICAgICAgICAgIHNlbGYuZ2V0UGxhY2UgPSBhcHAubW9kdWxlcy5tYWluLmxpYnJhcnkuZ2V0UGxhY2U7XG4gICAgICAgICAgICBzZWxmLmdldFNjaG9vbCA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5nZXRTY2hvb2w7XG4gICAgICAgICAgICBzZWxmLmdldEF1dGhvciA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5nZXRBdXRob3I7XG4gICAgICAgICAgICBzZWxmLmV4cGFuZCA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5leHBhbmQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXQgbW9kdWxlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbnRhaW5lcikge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cygpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBQbGFjZUZpbHRlcigpO1xuICAgICAgICAgICAgICAgIHNlbGYuZ2V0RGF0YSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBMaXN0ZW5lcigpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghKCdtb2R1bGVzJyBpbiBhcHApKSB7XG4gICAgICAgIGFwcC5tb2R1bGVzID0ge307XG4gICAgfVxuXG4gICAgYXBwLm1vZHVsZXMuYWRtaW5TY2hlZHVsZSA9IG5ldyBBZG1pblNjaGVkdWxlKCk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJ21vZHVsZXMnIGluIGFwcCAmJiAnYWRtaW5TY2hvb2xzJyBpbiBhcHAubW9kdWxlcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBBZG1pblNjaG9vbHMgY2xhc3MuXG4gICAgICogQGNsYXNzXG4gICAgICovXG4gICAgdmFyIEFkbWluU2Nob29scyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGYuYm9keSA9ICcnO1xuICAgICAgICBzZWxmLmFsZXJ0ID0gJyc7XG4gICAgICAgIHNlbGYuZ2V0U2Nob29sID0gJyc7XG4gICAgICAgIHNlbGYuaW5zZXJ0ID0gJyc7XG4gICAgICAgIHNlbGYudXBkYXRlID0gJyc7XG4gICAgICAgIHNlbGYuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkbWluU2Nob29scycpO1xuICAgICAgICBzZWxmLmNvbnRlbnQgPSBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hvb2xzX19jb250ZW50Jyk7XG4gICAgICAgIHNlbGYuc2Nob29sU2VsZWN0ID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1TZWxlY3RfX3NlbGVjdFtuYW1lPVwic2Nob29sXCJdJyk7XG4gICAgICAgIHNlbGYuZWRpdFRlbXBsYXRlID0gc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignI2FkbWluU2Nob29scy10ZW1wbGF0ZScpLmlubmVySFRNTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5zZXR1cExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnNjaG9vbFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzZWxmLmhhbmRsZVN0YXRlKTtcbiAgICAgICAgICAgIHNlbGYuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZi5yb3V0ZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3V0ZSBjb250YWluZXIgY2xpY2sgZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnJvdXRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYWN0aW9uO1xuXG4gICAgICAgICAgICBpZiAoYWN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZlthY3Rpb25dKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZlthY3Rpb25dKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGl0ZW0gdG8gZGF0YWJhc2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuYWRkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmluc2VydCgnc2Nob29scycsIHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBzdHVkZW50OiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwic3R1ZGVudFwiXScpLnZhbHVlKVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBTY2hvb2xGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNldE5ld1N0YXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWRpdCBpdGVtIGluIGRhdGFiYXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmVkaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlKCdzY2hvb2xzJywge1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChzZWxmLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwiaWRcIl0nKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aXRsZVwiXScpLnZhbHVlLFxuICAgICAgICAgICAgICAgIHN0dWRlbnQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJzdHVkZW50XCJdJykudmFsdWUpXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBpdGVtIGZyb20gZGF0YWJhc2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlybSgn0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0LLRi9Cx0YDQsNC90L3Rg9GOINGI0LrQvtC70YM/JykpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuZGVsZXRlKCdzY2hvb2xzJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQoc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cInRpdGxlXCJdJykudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHN0dWRlbnQ6IHBhcnNlSW50KHNlbGYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJzdHVkZW50XCJdJykudmFsdWUpXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBTY2hvb2xGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXROZXdTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHVwIHNjaG9vbCBmaWx0ZXIgdmFsdWVzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldHVwU2Nob29sRmlsdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmdldFNjaG9vbCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICc8b3B0aW9uIHZhbHVlPVwiXCI+PC9vcHRpb24+JztcblxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiJysgaXRlbS5pZCArJ1wiPicrIGl0ZW0udGl0bGUgKyc8L29wdGlvbj4nO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5zY2hvb2xTZWxlY3QuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2UgYmxvY2sgc3RhdGUgYWNjb3JkaW5nIHRvIGZpbHRlciBzZWxlY3QgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuaGFuZGxlU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLnNjaG9vbFNlbGVjdC52YWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5zZXRFZGl0U3RhdGUoKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuc2V0TmV3U3RhdGUoKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVwYXJlIHRlbXBsYXRlIGZvciBlZGl0L2RlbGV0ZSBpdGVtIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldEVkaXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNjaG9vbElkID0gc2VsZi5zY2hvb2xTZWxlY3QudmFsdWUgPyBwYXJzZUludChzZWxmLnNjaG9vbFNlbGVjdC52YWx1ZSkgOiAnJztcblxuICAgICAgICAgICAgc2VsZi5nZXRTY2hvb2woc2Nob29sSWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlWzBdLFxuICAgICAgICAgICAgICAgICAgICBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdhZG1pblNjaG9vbHNfX2VkaXQnKTtcblxuICAgICAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSBzZWxmLmVkaXRUZW1wbGF0ZTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuYWRtaW5TY2hvb2xzX190aXRsZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmZvcm1JbnB1dF9faW5wdXRbbmFtZT1cImlkXCJdJykudmFsdWUgPSBkYXRhLmlkO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtSW5wdXRfX2lucHV0W25hbWU9XCJ0aXRsZVwiXScpLnZhbHVlID0gZGF0YS50aXRsZTtcblxuICAgICAgICAgICAgICAgIGJveC5xdWVyeVNlbGVjdG9yKCcuZm9ybUlucHV0X19pbnB1dFtuYW1lPVwic3R1ZGVudFwiXScpLnZhbHVlID0gZGF0YS5zdHVkZW50O1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaG9vbHNfX2JveF9fYnV0dG9uX3R5cGVfYWRkJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyKGJveCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSB0ZW1wbGF0ZSBmb3IgYWRkIG5ldyBpdGVtIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnNldE5ld1N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmdldFNjaG9vbCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgICAgIHZhciBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdhZG1pblNjaG9vbHNfX2FkZCcpO1xuXG4gICAgICAgICAgICAgICAgYm94LmlubmVySFRNTCA9IHNlbGYuZWRpdFRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaG9vbHNfX2JveF9fY29sXzEnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgYm94LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pblNjaG9vbHNfX2JveF9fYnV0dG9uX3R5cGVfZWRpdCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBib3gucXVlcnlTZWxlY3RvcignLmFkbWluU2Nob29sc19fYm94X19idXR0b25fdHlwZV9yZW1vdmUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXIoYm94KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGVtcGxhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYucmVuZGVyID0gZnVuY3Rpb24odGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHNlbGYuY29udGVudC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICAgICAgc2VsZi5jb250ZW50LmFwcGVuZENoaWxkKHRlbXBsYXRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wb3J0IHByb3BlcnRpZXMgZnJvbSBNYWluIGNsYXNzXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmltcG9ydERlZmF1bHRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmJvZHkgPSBhcHAubW9kdWxlcy5tYWluLmJvZHk7XG4gICAgICAgICAgICBzZWxmLmFsZXJ0ID0gYXBwLm1vZHVsZXMuYWRtaW4uYWxlcnQ7XG4gICAgICAgICAgICBzZWxmLmdldFNjaG9vbCA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5nZXRTY2hvb2w7XG4gICAgICAgICAgICBzZWxmLmluc2VydCA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5pbnNlcnQ7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS51cGRhdGU7XG4gICAgICAgICAgICBzZWxmLmRlbGV0ZSA9IGFwcC5tb2R1bGVzLm1haW4ubGlicmFyeS5kZWxldGU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXQgbW9kdWxlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbnRhaW5lcikge1xuXG4gICAgICAgICAgICAgICAgc2VsZi5pbXBvcnREZWZhdWx0cygpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBTY2hvb2xGaWx0ZXIoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXR1cExpc3RlbmVyKCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgaWYgKCEoJ21vZHVsZXMnIGluIGFwcCkpIHtcbiAgICAgICAgYXBwLm1vZHVsZXMgPSB7fTtcbiAgICB9XG5cbiAgICBhcHAubW9kdWxlcy5hZG1pblNjaG9vbHMgPSBuZXcgQWRtaW5TY2hvb2xzKCk7XG59KSgpO1xuIiwidmFyIGluaXRBcHAgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoJ21vZHVsZXMnIGluIGFwcCAmJiAnbWFpbicgaW4gYXBwLm1vZHVsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTWFpbiBjbGFzcy5cbiAgICAgKiBAY2xhc3NcbiAgICAgKi9cbiAgICB2YXIgTWFpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5odG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpO1xuICAgICAgICBzZWxmLmJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgICAgIHNlbGYubW9kdWxlcyA9IGFwcC5tb2R1bGVzO1xuICAgICAgICBzZWxmLmxpYnJhcnkgPSBuZXcgTGlicmFyeSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0IGxpYnJhcnkgbW9kdWxlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmluaXRMaWJyYXJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmxpYnJhcnkuaW5pdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0IGFsbCBtb2R1bGVzIGluICQubW9kdWxlc1xuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5pbml0TW9kdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgbW9kdWxlIGluIHNlbGYubW9kdWxlcykge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShtb2R1bGUpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLm1vZHVsZXNbbW9kdWxlXS5pbml0ICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUgIT09ICdtYWluJyAmJiBtb2R1bGUgIT09ICdsaWJyYXJ5Jykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1vZHVsZXNbbW9kdWxlXS5pbml0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXQgbW9kdWxlXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuaW5pdExpYnJhcnkoKTtcbiAgICAgICAgICAgIHNlbGYuaW5pdE1vZHVsZXMoKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgaWYgKCEoJ21vZHVsZXMnIGluIGFwcCkpIHtcbiAgICAgICAgYXBwLm1vZHVsZXMgPSB7fTtcbiAgICB9XG5cbiAgICBhcHAubW9kdWxlcy5tYWluID0gbmV3IE1haW4oKTtcblxuICAgIGFwcC5tb2R1bGVzLm1haW4uaW5pdCgpO1xufTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBpbml0QXBwKTtcbiJdfQ==
